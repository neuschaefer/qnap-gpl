<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Riccardo Facchetti">
   <meta name="GENERATOR" content="Mozilla/4.74 [en] (X11; U; Linux 2.4.3 i586) [Netscape]">
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EF" vlink="#51188E" alink="#FF0000">

<h2>
Authentication design</h2>

<p><br>The password file is in the apcupsd config directory and is called
apcpasswd.conf This file is plain text in the form:
<p>username:password:level
<p>The level can be one of the two: slave, admin. Slave is for daemon slaves
that want to connect to a master for remote monitoring the power line.
Their access is limited to the functions a slave is allowed to perform:
send notifications to master and change the poll time. Admin is for human
interface clients that want to gain full access to the UPS programming.
<p>The basic level of information gathering is password-free as the info
distribution can be limited by other means (network security) and in a
local network anyone should be able to know which is the status of the
UPS powering the computer in use.
<p>The human interface for admin level will require to input username and
password by hands. No automation is provided.
<p>The slave logon for slave level don't require any user intervention
as automation is provided. The slave will have in its configuration file
(apcupsd.conf) a way to specify the slave username and password.
<p>E.g. for a slave with this line in apcpasswd.conf file:
<p>azuth:pippo:slave
<p>the slave's config file apcupsd.conf file will be like:
<p>...
<br>upsstart azuth
<br>device upsname@127.0.0.1:7777
<br>login username password
<br>upsend
<p>and everything should be in place for slave operation.
<br>&nbsp;
</body>
</html>
