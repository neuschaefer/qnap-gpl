<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Riccardo Facchetti">
   <meta name="GENERATOR" content="Mozilla/4.74 [en] (X11; U; Linux 2.4.3 i586) [Netscape]">
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EF" vlink="#51188E" alink="#FF0000">

<h2>
Talk directly to a smart UPS with minicom</h2>

<p><br>To talk with your UPS with minicom, APCUPSD must not run. Therefore
kill the APCUPSD before anything else. To connect to the UPS use minicom
as root with the following settings.
<br>&nbsp;
<h3>
Modem and dialing</h3>

<p><br>A - Init string ......... Y\0^M
<br>B - Reset string ........ Y^M
<br>C - Dialing prefix #1.... Y\0
<br>D - Dialing suffix #1.... ^M
<br>E - Dialing prefix #2.... ATDP
<br>F - Dialing suffix #2.... ^M
<br>G - Dialing prefix #3.... ATX1DT
<br>H - Dialing suffix #3.... ;X4D^M
<br>I - Connect string ...... CONNECT
<br>J - No connect strings ..&nbsp;&nbsp;&nbsp; NO CARRIER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
BUSY
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
NO DIALTONE&nbsp;&nbsp;&nbsp; VOICE
<br>K - Hang-up string ...... R\0^M
<br>L - Dial cancel string .. ^M
<br>M - Dial time ........... 45 P - Auto baud detect .... Yes
<br>N - Delay before redial . 5 Q - Drop DTR to hangup .. No
<br>O - Number of tries ..... 10 R - Modem has DCD line .. No
<br>&nbsp;
<h3>
Serial port setup</h3>

<p><br>A - Serial Device : /dev/ttyS3
<br>B - Lockfile Location : /var/lock
<br>C - Callin Program :
<br>D - Callout Program :
<br>E - Baud/Par/Bits : 2400 8N1
<br>F - Hardware Flow Control : No
<br>G - Software Flow Control : No
<br>&nbsp;
<p>The output of a SmartUPS is:
<p>a 3.!$%+?=#|.^A+-789>@ABCDEFGKLMNOPQRSUVWXYZ'abcefgjklmnopqrsuxyz~^?
<br>b 52.9.D
<br>c UPS_IDEN
<br>d NA
<br>e 00
<br>f 079.0
<br>g 024
<br>h NA
<br>i NA
<br>j 0037:
<br>k 0
<br>l 103
<br>m 02/18/95
<br>n S95025484481
<br>o 115
<br>p 020
<br>q 02
<br>r 000
<br>s H
<br>t NA
<br>u 132
<br>v NA
<br>w NA
<br>x 02/18/95
<br>y (C) APCC
<br>z CLEAR
<br>A OK
<br>B 27.74
<br>C 033.3
<br>D NO
<br>E 336
<br>F 60.00
<br>G S
<br>H NA
<br>I NA
<br>J NA
<br>K
<br>L 126.7
<br>M 128.0
<br>N 126.1
<br>O 126.7
<br>P 023.4
<br>Q 08
<br>S NA
<br>T NA
<br>U OK
<br>!$
<br>V GWD
<br>W OK
<br>X OK
<br>Y SM
<br>` NA
<br>1 NA
<br>2 NA
<br>3 NA
<br>4 28
<br>5 F2
<br>6 FA
<br>7 00
<br>8 00
<br>9 FF
<br>0 82
<br>- NO
<br>= NA
<br>\ NA
<br>| NA
<br>+ NO
<br>_ NA
<br>) NA
<br>( NA
<br>* NA
<br>&amp; NA
<br>^ NA
<br>% NA
<br>$ NA
<br># NA
<br>! NA
<br>` NA
<br>~ 00
<br>^a SMART-UPS 700 RM
<br>&nbsp;
</body>
</html>
