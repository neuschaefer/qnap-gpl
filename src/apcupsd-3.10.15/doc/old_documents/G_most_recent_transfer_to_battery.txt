To: apcupsd-devel@ro.com
Message-ID: <85256838.00619C91.00@ns-inet-wkg.apcc.com>
Date: Mon, 29 Nov 1999 14:00:35 -0500
Subject: UPS Self Testing
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
Sender: owner-apcupsd-devel@ro.com
Precedence: bulk
X-UIDL: b07e1967a32bda8183ed9c0fd6433bcf


I received the inquiry below, which warrants a response to the whole list:

"Once every 14 days the UPS does an automatic self test.
apcupsd thinks there has been a power failure because it
detects a switch to batteries.  PowerChute seems to know
that a power test is underway.
Question: how can I tell when the UPS is doing an automatic
power test rather than in a power fail condition ?"

The G command gives the cause of the most recent transfer to
battery.
Responses to this command are:

     R - Transfer to battery due to rate of line voltage change
     H - Transfer to battery due to high line voltage
     L - Transfer to battery due to low line voltage
     T - Transfer to battery due to detection of line notch or spike
     O - No transfers have occurred yet
     S - The UPS was commanded to do a self-test by the front panel or
serial port

After detecting that the UPS has transferred to battery, send the G, then
interpret
the response.  If the response is S, then the transfer was due to a self
test.

Don Hagist
APC Software Development
dhagist@apcc.com



http://www.apcc.com








-
To unsubscribe, send "unsubscribe apcupsd-devel" to majordomo@ro.com
List archive: http://www.ro.com/lists/apcupsd/

