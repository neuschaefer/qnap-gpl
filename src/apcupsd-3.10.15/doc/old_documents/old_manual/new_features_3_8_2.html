<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
        <TITLE>New Features</TITLE>
   <meta name="Author" content="Kern Sibbald">
                <link rel=stylesheet href="apcupsd-styles.css" type="text/css">
</HEAD>
<BODY>
<h2>New Features in Apcupsd 3.8.2</h2>

<p>
&middot; Highlights of this release:
</P>
<PRE>
. Detects Self Test and reports it as such rather than a
  Power Failure.
. True pthreads implementation (uses less CPU and one third
  the memory).
. For SmartUPSes, apcupsd does a much better job of adapting
  to the actual features of the UPS and is more efficient.
. Many new ./configure options permitting much more complete
  pre-configuration. Nearly every possible file and feature
  is configurable.
. More complete and updated support for more systems (Caldera, 
  Debian, FreeBSD, NetBSD, OpenBSD)
. Correction of all outstanding 3.8.0 and 3.8.1 bugs.
. Cascading Style Sheet version of multimon for user customization.
. TCP Wrapper support (untested).
. KILLDELAY configuration directive requested by users (untested).
. Reap zombies on BSD systems.
. Win32 shutdown program significantly enhanced, now shuts
  down in all known configurations giving users time to save
  their changes.
. Win32 version uses threads rather than Unix processes.
</PRE><P>

</P>
<P>The software is completely developed
under Linux and will compile cleanly and will work under Linux
as well as many other operating systems and flavors of Linux.
</P>
<P>What to do if you find bugs :</P>
<P STYLE="margin-left: 0.29in">send an email to 
<a href="mailto:apcupsd-devel at apcupsd.org">apcupsd-devel at apcupsd.org</a> 
(Developers mailing list) or go to one of the following sites:
<pre>
<a href="http://www.apcupsd.org">http://www.apcupsd.org</a>
<a href="http://www.sibbald.com/apcupsd">http://www.sibbald.com/apcupsd</a>

</pre>

</P>
<P>Change Log
</P>
<PRE>
----> Release apcupsd-3.8.2 (3 July 2001)
      - Additional documentation.
      - Bug fix provided by Riccardo.
      - Update script for making RPMs.
      - Please remember that apcnetd has been renamed to
        apcnisd 
      - Tweaked the pthreads flags for FreeBSD
      - Added Linux From Scratch hint file to unknown distribution.
      - Fixed Makefile in lib to use CFLAGS.

----> Released apcupsd-3.8.2Beta14 (24 Jun 2001)
      - Fixed stall in Network Information Server
      - Fixed possible race condition in pthreads
        Network Information Server.
      - Fixed a serious shutdown bug for BackUPS UPSes.
      - Tightened security for some scripts (thanks Neil).
      - More cleanups for --with-pwrfail-dir so it
        is properly configured.

        See techdocs/kes27Jun01 for more details.


----> Released apcupsd-3.8.2Beta13 (21 Jun 2001)
       - Fixed bug in creation of PWRFAIL file. Thanks to
         Jose for his excellent testing efforts.
       - Cleaned up configuration of PWRFAILDIR in 
         distribution files.
       - Fixed installation of multimon.css
       - Implemented localtime_r() for Win32 systems.

----> Released apcupsd-3.8.2Beta12 (20 Jun 2001)
       - Fixed CGI Makefile problems pointed out by Carl.
       - Fixed SuSe install problem pointed out by user (and
         fixed provided by Neil).
       - Fixed powerflute, which has been broken for a long time.
       - Upgraded powerflute to work with pthreaded apcupsd (via
         TCP/IP).

----> Released apcupsd-3.8.2Beta11 (12 Jun 2001)
       - Mostly documentation and small bug fixes.
       - Reworked installation of CSS files in CGI directory.
       - use localtime_r() to avoid potential problems in 
         threaded version.
       - Cleaned up a few serious shutdown problems with new
         apcaction code pointed out by a user (thanks!).
       - Fix bug in libwrap code.

----> Released apcupsd-3.8.2Beta9 (28 Apr 2001)
       - As promised with release apcupsd-3.8.1-5, I have
         now added pthreads support -- well, at least it is
         a first cut. The reentrant library calls must still
         be added where appropriate.
       - Configuration with ./configure is now much more
         complete.  See kes09Apr01 and kes10Apr01 in techlogs.
       - See kes28Apr01 in techlogs for more details of the
         pthreads implementation.
       - apcaccess and powerflute need NIS running to work
         with a threaded apcupsd.
       - Set SO_REUSEADDR and SO_KEEPALIVE on sockets.
                                                                 [ChangeLog] I 
----> Released apcupsd-3.8.2Beta6 (10 Apr 2001)
       - Much enhanced ./configure. Lots of new options for easier
         system configuration.
       - New Debian code.
       - New release numbering scheme to eliminate -nn at end for
         packagers.
       - Shared memory initialization improvements.
       - A single apcupsd.conf (built from apcupsd.conf.in) in
         the /etc directory.

       See techlogs/kes9Apr01 for more details.
       See techlogs/kes10Apr01 for more details.

----> Released apcupsd-3.8.1-5 (6 Apr 2001)
       - This version is a pre-release of version 3.8.2.
         It contains fixes for most known problems.
       - Major work has been done to include in this release 
         much of the code that will go into version 4.0.
       - Addition merging of 3.8 and 4.0 will occur prior
         to the final release of 3.8.2
       - The only major addition that I am planning to 3.8.2
         for the next prerelease (3.8.1-6) will be pthread
         support (at least the first cut).
       - The name of apcnetd has been changed to apcnisd
       - OpenBSD fixes from Devin Reade
       - Fixed Zombies that were created on BSD systems.

       New Features:
       - New indenting standard (see code). Not yet uniformly
         applied -- work in progress.
       - New NetBSD support.
       - Updated Debian support.
       - apccontrol now called with additional arguments.
       - GNOME realtime monitoring program added in gupsc
         directory (not supported).
       - Improved shutdown on WinNT.
       - Self test detection -- no more false power fails.
       - TCP Wrapper support (untested).
       - New KILLDELAY <seconds>  configuration directive (untested)
         that causes apcupsd to wait after issuing a shutdown, and
         after the delay seconds have expired, it will issue a
         kill power to the UPS.  Potentially useful on systems
         where apcupsd cannot regain control after completing 
         a system shutdown (i.e. WinNT).
       - Multimon can now use css for more control by the user.

       See techlogs/kes06Apr01 for details.
       See techlogs/gdr01Mar01 for more details

----> Release apcupsd-3.8.1-3 (5 Mar 01)
       - Added Caldera code.
       - NetBSD patches.
       - Modified code for handling 940-0095B cable.
       - Integrated 4.0 code

       See techlogs/kes05Mar01 for more details.

           
----> Release of 25 Feb 2001
       - New NetBSD code (thanks to a number of contributors).
       - Added O_NDELAY to prevent blocking on serial port opens on
         BSD systems.
       - Fixed a bug in the status display on BackUPS Pros that cut
         the output short.
       - Fixed potential DoS problem with email scripts.
       - Much improved shutdown program for Win32 systems.

       See techlogs/kes27Feb01 for additional details.

</PRE>
<hr>

<a href="new_features_3_8_3.html" target="_self"><img src="back.gif" border=0 alt="Back"></a>
<a href="new_features_3_8_1.html" target="_self"><img src="next.gif" border=0 alt="Next"></a>
<a href="index.html"><img src="home.gif" border=0 alt="Home"></a>
</BODY>
</HTML>
