/*
 * Note: this file originally auto-generated by mib2c using
 *        : mib2c.scalar.conf 17337 2009-01-01 14:28:29Z magfr $
 */
#ifndef SYSTEMINFO_H
#define SYSTEMINFO_H

#ifdef STORAGE_V2
#ifdef QNAP_HAL_SUPPORT
#include "storage.h"
#include "err_trace.h"
#include "utils.h"
#include "ini_config.h"
#include "hal.h"
#include "raid.h"
#include "storage_man.h"

#define COLUMN_JBODID		1
#define COLUMN_JBODHDNUM		2
#endif

#define JBODID_COUNT  8//     allocate 8 JBOD table (if over 8 JBOD id , need call re-initialize JBOD id)
#endif
       /* function declarations */
void init_SystemInfo(void);
#ifdef STORAGE_V2
Netsnmp_Node_Handler handle_JBODBitmap;
#endif
Netsnmp_Node_Handler handle_SystemCPU_Usage;
Netsnmp_Node_Handler handle_SystemTotalMem;
Netsnmp_Node_Handler handle_SystemFreeMem;
Netsnmp_Node_Handler handle_SystemUptime;
Netsnmp_Node_Handler handle_CPU_Temperature;
Netsnmp_Node_Handler handle_SystemTemperature;
Netsnmp_Node_Handler handle_IfNumber;
Netsnmp_Node_Handler handle_HdNumber;
Netsnmp_Node_Handler handle_ModelName;
Netsnmp_Node_Handler handle_HostName;
Netsnmp_Node_Handler handle_SysFanNumber;
Netsnmp_Node_Handler handle_SysVolumeNumber;


#ifdef STORAGE_V2
char * convert_status(int status,const mapping_t *status_all);

//JBOD info/////////////////////////////////////////////////////
struct JBODINFOs_entry {
    /* Index values */
    int JBODid;

    /* Column values */
    int hdnum;
    char JBODModel[256];
    size_t JBODModel_len;


    /* Illustrate using a simple linked list */
    int   valid;
    struct JBODINFOs_entry *next;
};

void
initialize_table_JBODINFOsTable();

struct JBODINFOs_entry *
JBODINFOsTable_createEntry(int JBODid);

void
JBODINFOsTable_removeEntry( struct JBODINFOs_entry *entry );


netsnmp_variable_list *
JBODINFOsTable_get_first_data_point(void **my_loop_context,
                          void **my_data_context,
                          netsnmp_variable_list *put_index_data,
                          netsnmp_iterator_info *mydata);

netsnmp_variable_list *
JBODINFOsTable_get_next_data_point(void **my_loop_context,
                          void **my_data_context,
                          netsnmp_variable_list *put_index_data,
                          netsnmp_iterator_info *mydata);
    
int
JBODINFOsTable_handler(
    netsnmp_mib_handler               *handler,
    netsnmp_handler_registration      *reginfo,
    netsnmp_agent_request_info        *reqinfo,
    netsnmp_request_info              *requests);
    
struct JBODINFOs_entry  *JBODINFOsTable_head;


//JBOD HDD table////////////////////////////////////////////////
    /* Typical data structure for a row entry */
struct SystemJBODHdTable_entry {
    /* Index values */
    long HdIndex;
    int JBODid;
    /* Column values */
    long HdIndexData;
    char HdDescr[256];
    size_t HdDescr_len;
    char HdTemperature[64];
    size_t HdTemperature_len;
    long HdStatus;
    char HdModel[64];
    size_t HdModel_len;
    char HdCapacity[64];
    size_t HdCapacity_len;
    char HdSmartInfo[64];
    size_t HdSmartInfo_len;


    /* Illustrate using a simple linked list */
    int   valid;
    struct SystemJBODHdTable_entry *next;
};

struct SystemJBODHdTable_entry  **SystemJBODHdTable_head;

void
initialize_table_SystemJBODHdTable(int JBODid);

    
void
SystemJBODHdTable_removeEntry( struct SystemJBODHdTable_entry *entry );

struct SystemJBODHdTable_entry *
SystemJBODHdTable_createEntry(
                 long  HdIndex,
                 int JBODid
                );

netsnmp_variable_list *
SystemJBODHdTable_get_first_data_point_1(void **my_loop_context,
                          void **my_data_context,
                          netsnmp_variable_list *put_index_data,
                          netsnmp_iterator_info *mydata);

netsnmp_variable_list *
SystemJBODHdTable_get_first_data_point_2(void **my_loop_context,
                          void **my_data_context,
                          netsnmp_variable_list *put_index_data,
                          netsnmp_iterator_info *mydata);
                          
netsnmp_variable_list *
SystemJBODHdTable_get_first_data_point_3(void **my_loop_context,
                          void **my_data_context,
                          netsnmp_variable_list *put_index_data,
                          netsnmp_iterator_info *mydata);
                          
netsnmp_variable_list *
SystemJBODHdTable_get_first_data_point_4(void **my_loop_context,
                          void **my_data_context,
                          netsnmp_variable_list *put_index_data,
                          netsnmp_iterator_info *mydata);
                          
netsnmp_variable_list *
SystemJBODHdTable_get_first_data_point_5(void **my_loop_context,
                          void **my_data_context,
                          netsnmp_variable_list *put_index_data,
                          netsnmp_iterator_info *mydata);

netsnmp_variable_list *
SystemJBODHdTable_get_first_data_point_6(void **my_loop_context,
                          void **my_data_context,
                          netsnmp_variable_list *put_index_data,
                          netsnmp_iterator_info *mydata);
                          
netsnmp_variable_list *
SystemJBODHdTable_get_first_data_point_7(void **my_loop_context,
                          void **my_data_context,
                          netsnmp_variable_list *put_index_data,
                          netsnmp_iterator_info *mydata);
                          
netsnmp_variable_list *
SystemJBODHdTable_get_first_data_point_8(void **my_loop_context,
                          void **my_data_context,
                          netsnmp_variable_list *put_index_data,
                          netsnmp_iterator_info *mydata);

netsnmp_variable_list *
SystemJBODHdTable_get_next_data_point(void **my_loop_context,
                          void **my_data_context,
                          netsnmp_variable_list *put_index_data,
                          netsnmp_iterator_info *mydata);
    
int
SystemJBODHdTable_handler(
    netsnmp_mib_handler               *handler,
    netsnmp_handler_registration      *reginfo,
    netsnmp_agent_request_info        *reqinfo,
    netsnmp_request_info              *requests,
    int                                JBODid);
    
int
SystemJBODHdTable_handler_1(
    netsnmp_mib_handler               *handler,
    netsnmp_handler_registration      *reginfo,
    netsnmp_agent_request_info        *reqinfo,
    netsnmp_request_info              *requests);
    
int
SystemJBODHdTable_handler_2(
    netsnmp_mib_handler               *handler,
    netsnmp_handler_registration      *reginfo,
    netsnmp_agent_request_info        *reqinfo,
    netsnmp_request_info              *requests);
    
int
SystemJBODHdTable_handler_3(
    netsnmp_mib_handler               *handler,
    netsnmp_handler_registration      *reginfo,
    netsnmp_agent_request_info        *reqinfo,
    netsnmp_request_info              *requests);
    
int
SystemJBODHdTable_handler_4(
    netsnmp_mib_handler               *handler,
    netsnmp_handler_registration      *reginfo,
    netsnmp_agent_request_info        *reqinfo,
    netsnmp_request_info              *requests);
    
int
SystemJBODHdTable_handler_5(
    netsnmp_mib_handler               *handler,
    netsnmp_handler_registration      *reginfo,
    netsnmp_agent_request_info        *reqinfo,
    netsnmp_request_info              *requests);
    
int
SystemJBODHdTable_handler_6(
    netsnmp_mib_handler               *handler,
    netsnmp_handler_registration      *reginfo,
    netsnmp_agent_request_info        *reqinfo,
    netsnmp_request_info              *requests);
    
int
SystemJBODHdTable_handler_7(
    netsnmp_mib_handler               *handler,
    netsnmp_handler_registration      *reginfo,
    netsnmp_agent_request_info        *reqinfo,
    netsnmp_request_info              *requests);
    
int
SystemJBODHdTable_handler_8(
    netsnmp_mib_handler               *handler,
    netsnmp_handler_registration      *reginfo,
    netsnmp_agent_request_info        *reqinfo,
    netsnmp_request_info              *requests);
#endif
#endif /* SYSTEMINFO_H */
