diff -Npur samba-4.7.1/VERSION samba-4.7.2/VERSION
--- samba-4.7.1/VERSION	2017-11-02 12:38:36.000000000 +0100
+++ samba-4.7.2/VERSION	2017-11-15 08:42:13.000000000 +0100
@@ -25,7 +25,7 @@
 ########################################################
 SAMBA_VERSION_MAJOR=4
 SAMBA_VERSION_MINOR=7
-SAMBA_VERSION_RELEASE=1
+SAMBA_VERSION_RELEASE=2
 
 ########################################################
 # If a official release has a serious bug              #
diff -Npur samba-4.7.1/WHATSNEW.txt samba-4.7.2/WHATSNEW.txt
--- samba-4.7.1/WHATSNEW.txt	2017-11-02 12:38:36.000000000 +0100
+++ samba-4.7.2/WHATSNEW.txt	2017-11-15 08:42:13.000000000 +0100
@@ -1,4 +1,60 @@
                    =============================
+                   Release Notes for Samba 4.7.2
+                         November 15, 2017
+                   =============================
+
+
+This is an additional bugfix release to address a possible data corruption
+issue. Please update immediately! For details, please see
+
+  https://bugzilla.samba.org/show_bug.cgi?id=13130
+
+Samba 4.6.0 and newer is affected by this issue.
+
+
+Changes since 4.7.1:
+--------------------
+
+o  Jeremy Allison <jra@samba.org>
+   * BUG 13121: Non-smbd processes using kernel oplocks can hang smbd.
+
+o  Joe Guo <joeg@catalyst.net.nz>
+   * BUG 13127: python: use communicate to fix Popen deadlock.
+
+o  Volker Lendecke <vl@samba.org>
+   * BUG 13130: smbd on disk file corruption bug under heavy threaded load.
+
+o  Stefan Metzmacher <metze@samba.org>
+   * BUG 13130: tevent: version 0.9.34.
+
+o  Ralph Wuerthner <ralph.wuerthner@de.ibm.com>
+   * BUG 13118: s3: smbd: Fix delete-on-close after smb2_find.
+
+
+#######################################
+Reporting bugs & Development Discussion
+#######################################
+
+Please discuss this release on the samba-technical mailing list or by
+joining the #samba-technical IRC channel on irc.freenode.net.
+
+If you do report problems then please try to send high quality
+feedback. If you don't provide vital information to help us track down
+the problem then you will probably be ignored.  All bug reports should
+be filed under the "Samba 4.1 and newer" product in the project's Bugzilla
+database (https://bugzilla.samba.org/).
+
+
+======================================================================
+== Our Code, Our Bugs, Our Responsibility.
+== The Samba Team
+======================================================================
+
+
+Release notes for older releases follow:
+----------------------------------------
+
+                   =============================
                    Release Notes for Samba 4.7.1
                          November 02, 2017
                    =============================
@@ -106,8 +162,8 @@ database (https://bugzilla.samba.org/).
 ======================================================================
 
 
-Release notes for older releases follow:
-----------------------------------------
+----------------------------------------------------------------------
+
 
                    =============================
                    Release Notes for Samba 4.7.0
diff -Npur samba-4.7.1/ctdb/doc/ctdb-etcd.7 samba-4.7.2/ctdb/doc/ctdb-etcd.7
--- samba-4.7.1/ctdb/doc/ctdb-etcd.7	2017-11-02 12:44:36.000000000 +0100
+++ samba-4.7.2/ctdb/doc/ctdb-etcd.7	2017-11-15 09:22:29.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: ctdb-etcd
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "CTDB\-ETCD" "7" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "CTDB\-ETCD" "7" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/ctdb/doc/ctdb-statistics.7 samba-4.7.2/ctdb/doc/ctdb-statistics.7
--- samba-4.7.1/ctdb/doc/ctdb-statistics.7	2017-11-02 12:44:35.000000000 +0100
+++ samba-4.7.2/ctdb/doc/ctdb-statistics.7	2017-11-15 09:22:28.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: ctdb-statistics
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "CTDB\-STATISTICS" "7" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "CTDB\-STATISTICS" "7" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/ctdb/doc/ctdb-tunables.7 samba-4.7.2/ctdb/doc/ctdb-tunables.7
--- samba-4.7.1/ctdb/doc/ctdb-tunables.7	2017-11-02 12:44:36.000000000 +0100
+++ samba-4.7.2/ctdb/doc/ctdb-tunables.7	2017-11-15 09:22:28.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: ctdb-tunables
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "CTDB\-TUNABLES" "7" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "CTDB\-TUNABLES" "7" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/ctdb/doc/ctdb.1 samba-4.7.2/ctdb/doc/ctdb.1
--- samba-4.7.1/ctdb/doc/ctdb.1	2017-11-02 12:44:32.000000000 +0100
+++ samba-4.7.2/ctdb/doc/ctdb.1	2017-11-15 09:22:25.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: ctdb
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "CTDB" "1" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "CTDB" "1" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/ctdb/doc/ctdb.7 samba-4.7.2/ctdb/doc/ctdb.7
--- samba-4.7.1/ctdb/doc/ctdb.7	2017-11-02 12:44:35.000000000 +0100
+++ samba-4.7.2/ctdb/doc/ctdb.7	2017-11-15 09:22:27.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: ctdb
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "CTDB" "7" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "CTDB" "7" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/ctdb/doc/ctdb_diagnostics.1 samba-4.7.2/ctdb/doc/ctdb_diagnostics.1
--- samba-4.7.1/ctdb/doc/ctdb_diagnostics.1	2017-11-02 12:44:33.000000000 +0100
+++ samba-4.7.2/ctdb/doc/ctdb_diagnostics.1	2017-11-15 09:22:26.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: ctdb_diagnostics
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "CTDB_DIAGNOSTICS" "1" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "CTDB_DIAGNOSTICS" "1" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/ctdb/doc/ctdb_mutex_ceph_rados_helper.7 samba-4.7.2/ctdb/doc/ctdb_mutex_ceph_rados_helper.7
--- samba-4.7.1/ctdb/doc/ctdb_mutex_ceph_rados_helper.7	2017-11-02 12:44:36.000000000 +0100
+++ samba-4.7.2/ctdb/doc/ctdb_mutex_ceph_rados_helper.7	2017-11-15 09:22:29.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: Ceph RADOS Mutex
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "CEPH RADOS MUTEX" "7" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "CEPH RADOS MUTEX" "7" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/ctdb/doc/ctdbd.1 samba-4.7.2/ctdb/doc/ctdbd.1
--- samba-4.7.1/ctdb/doc/ctdbd.1	2017-11-02 12:44:32.000000000 +0100
+++ samba-4.7.2/ctdb/doc/ctdbd.1	2017-11-15 09:22:25.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: ctdbd
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "CTDBD" "1" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "CTDBD" "1" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/ctdb/doc/ctdbd.conf.5 samba-4.7.2/ctdb/doc/ctdbd.conf.5
--- samba-4.7.1/ctdb/doc/ctdbd.conf.5	2017-11-02 12:44:35.000000000 +0100
+++ samba-4.7.2/ctdb/doc/ctdbd.conf.5	2017-11-15 09:22:27.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: ctdbd.conf
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "CTDBD\&.CONF" "5" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "CTDBD\&.CONF" "5" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/ctdb/doc/ctdbd_wrapper.1 samba-4.7.2/ctdb/doc/ctdbd_wrapper.1
--- samba-4.7.1/ctdb/doc/ctdbd_wrapper.1	2017-11-02 12:44:34.000000000 +0100
+++ samba-4.7.2/ctdb/doc/ctdbd_wrapper.1	2017-11-15 09:22:26.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: ctdbd_wrapper
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "CTDBD_WRAPPER" "1" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "CTDBD_WRAPPER" "1" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/ctdb/doc/ltdbtool.1 samba-4.7.2/ctdb/doc/ltdbtool.1
--- samba-4.7.1/ctdb/doc/ltdbtool.1	2017-11-02 12:44:33.000000000 +0100
+++ samba-4.7.2/ctdb/doc/ltdbtool.1	2017-11-15 09:22:25.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: ltdbtool
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "LTDBTOOL" "1" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "LTDBTOOL" "1" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/ctdb/doc/onnode.1 samba-4.7.2/ctdb/doc/onnode.1
--- samba-4.7.1/ctdb/doc/onnode.1	2017-11-02 12:44:34.000000000 +0100
+++ samba-4.7.2/ctdb/doc/onnode.1	2017-11-15 09:22:27.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: onnode
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "ONNODE" "1" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "ONNODE" "1" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/ctdb/doc/ping_pong.1 samba-4.7.2/ctdb/doc/ping_pong.1
--- samba-4.7.1/ctdb/doc/ping_pong.1	2017-11-02 12:44:33.000000000 +0100
+++ samba-4.7.2/ctdb/doc/ping_pong.1	2017-11-15 09:22:26.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: ping_pong
 .\"    Author: 
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: CTDB - clustered TDB database
 .\"    Source: ctdb
 .\"  Language: English
 .\"
-.TH "PING_PONG" "1" "11/02/2017" "ctdb" "CTDB \- clustered TDB database"
+.TH "PING_PONG" "1" "11/15/2017" "ctdb" "CTDB \- clustered TDB database"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/cifsdd.8 samba-4.7.2/docs/manpages/cifsdd.8
--- samba-4.7.1/docs/manpages/cifsdd.8	2017-11-02 12:44:38.000000000 +0100
+++ samba-4.7.2/docs/manpages/cifsdd.8	2017-11-15 09:22:31.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: cifsdd
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "CIFSDD" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "CIFSDD" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/dbwrap_tool.1 samba-4.7.2/docs/manpages/dbwrap_tool.1
--- samba-4.7.1/docs/manpages/dbwrap_tool.1	2017-11-02 12:44:38.000000000 +0100
+++ samba-4.7.2/docs/manpages/dbwrap_tool.1	2017-11-15 09:22:31.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: dbwrap_tool
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "DBWRAP_TOOL" "1" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "DBWRAP_TOOL" "1" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/eventlogadm.8 samba-4.7.2/docs/manpages/eventlogadm.8
--- samba-4.7.1/docs/manpages/eventlogadm.8	2017-11-02 12:44:38.000000000 +0100
+++ samba-4.7.2/docs/manpages/eventlogadm.8	2017-11-15 09:22:31.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: eventlogadm
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "EVENTLOGADM" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "EVENTLOGADM" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/findsmb.1 samba-4.7.2/docs/manpages/findsmb.1
--- samba-4.7.1/docs/manpages/findsmb.1	2017-11-02 12:44:38.000000000 +0100
+++ samba-4.7.2/docs/manpages/findsmb.1	2017-11-15 09:22:31.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: findsmb
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "FINDSMB" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "FINDSMB" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/idmap_ad.8 samba-4.7.2/docs/manpages/idmap_ad.8
--- samba-4.7.1/docs/manpages/idmap_ad.8	2017-11-02 12:44:39.000000000 +0100
+++ samba-4.7.2/docs/manpages/idmap_ad.8	2017-11-15 09:22:31.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: idmap_ad
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "IDMAP_AD" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "IDMAP_AD" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/idmap_autorid.8 samba-4.7.2/docs/manpages/idmap_autorid.8
--- samba-4.7.1/docs/manpages/idmap_autorid.8	2017-11-02 12:44:39.000000000 +0100
+++ samba-4.7.2/docs/manpages/idmap_autorid.8	2017-11-15 09:22:32.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: idmap_autorid
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "IDMAP_AUTORID" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "IDMAP_AUTORID" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/idmap_hash.8 samba-4.7.2/docs/manpages/idmap_hash.8
--- samba-4.7.1/docs/manpages/idmap_hash.8	2017-11-02 12:44:39.000000000 +0100
+++ samba-4.7.2/docs/manpages/idmap_hash.8	2017-11-15 09:22:32.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: idmap_hash
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "IDMAP_HASH" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "IDMAP_HASH" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/idmap_ldap.8 samba-4.7.2/docs/manpages/idmap_ldap.8
--- samba-4.7.1/docs/manpages/idmap_ldap.8	2017-11-02 12:44:39.000000000 +0100
+++ samba-4.7.2/docs/manpages/idmap_ldap.8	2017-11-15 09:22:32.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: idmap_ldap
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "IDMAP_LDAP" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "IDMAP_LDAP" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/idmap_nss.8 samba-4.7.2/docs/manpages/idmap_nss.8
--- samba-4.7.1/docs/manpages/idmap_nss.8	2017-11-02 12:44:40.000000000 +0100
+++ samba-4.7.2/docs/manpages/idmap_nss.8	2017-11-15 09:22:32.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: idmap_nss
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "IDMAP_NSS" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "IDMAP_NSS" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/idmap_rfc2307.8 samba-4.7.2/docs/manpages/idmap_rfc2307.8
--- samba-4.7.1/docs/manpages/idmap_rfc2307.8	2017-11-02 12:44:40.000000000 +0100
+++ samba-4.7.2/docs/manpages/idmap_rfc2307.8	2017-11-15 09:22:33.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: idmap_rfc2307
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "IDMAP_RFC2307" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "IDMAP_RFC2307" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/idmap_rid.8 samba-4.7.2/docs/manpages/idmap_rid.8
--- samba-4.7.1/docs/manpages/idmap_rid.8	2017-11-02 12:44:40.000000000 +0100
+++ samba-4.7.2/docs/manpages/idmap_rid.8	2017-11-15 09:22:33.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: idmap_rid
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "IDMAP_RID" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "IDMAP_RID" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/idmap_script.8 samba-4.7.2/docs/manpages/idmap_script.8
--- samba-4.7.1/docs/manpages/idmap_script.8	2017-11-02 12:44:40.000000000 +0100
+++ samba-4.7.2/docs/manpages/idmap_script.8	2017-11-15 09:22:33.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: idmap_script
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "IDMAP_SCRIPT" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "IDMAP_SCRIPT" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/idmap_tdb.8 samba-4.7.2/docs/manpages/idmap_tdb.8
--- samba-4.7.1/docs/manpages/idmap_tdb.8	2017-11-02 12:44:40.000000000 +0100
+++ samba-4.7.2/docs/manpages/idmap_tdb.8	2017-11-15 09:22:33.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: idmap_tdb
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "IDMAP_TDB" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "IDMAP_TDB" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/idmap_tdb2.8 samba-4.7.2/docs/manpages/idmap_tdb2.8
--- samba-4.7.1/docs/manpages/idmap_tdb2.8	2017-11-02 12:44:41.000000000 +0100
+++ samba-4.7.2/docs/manpages/idmap_tdb2.8	2017-11-15 09:22:33.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: idmap_tdb2
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "IDMAP_TDB2" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "IDMAP_TDB2" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/libsmbclient.7 samba-4.7.2/docs/manpages/libsmbclient.7
--- samba-4.7.1/docs/manpages/libsmbclient.7	2017-11-02 12:44:41.000000000 +0100
+++ samba-4.7.2/docs/manpages/libsmbclient.7	2017-11-15 09:22:34.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: libsmbclient
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: 7
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "LIBSMBCLIENT" "7" "11/02/2017" "Samba 4\&.7" "7"
+.TH "LIBSMBCLIENT" "7" "11/15/2017" "Samba 4\&.7" "7"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/lmhosts.5 samba-4.7.2/docs/manpages/lmhosts.5
--- samba-4.7.1/docs/manpages/lmhosts.5	2017-11-02 12:44:41.000000000 +0100
+++ samba-4.7.2/docs/manpages/lmhosts.5	2017-11-15 09:22:34.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: lmhosts
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: File Formats and Conventions
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "LMHOSTS" "5" "11/02/2017" "Samba 4\&.7" "File Formats and Conventions"
+.TH "LMHOSTS" "5" "11/15/2017" "Samba 4\&.7" "File Formats and Conventions"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/log2pcap.1 samba-4.7.2/docs/manpages/log2pcap.1
--- samba-4.7.1/docs/manpages/log2pcap.1	2017-11-02 12:44:41.000000000 +0100
+++ samba-4.7.2/docs/manpages/log2pcap.1	2017-11-15 09:22:34.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: log2pcap
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "LOG2PCAP" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "LOG2PCAP" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/mvxattr.1 samba-4.7.2/docs/manpages/mvxattr.1
--- samba-4.7.1/docs/manpages/mvxattr.1	2017-11-02 12:44:41.000000000 +0100
+++ samba-4.7.2/docs/manpages/mvxattr.1	2017-11-15 09:22:34.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: mvxattr
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "MVXATTR" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "MVXATTR" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/net.8 samba-4.7.2/docs/manpages/net.8
--- samba-4.7.1/docs/manpages/net.8	2017-11-02 12:44:42.000000000 +0100
+++ samba-4.7.2/docs/manpages/net.8	2017-11-15 09:22:35.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: net
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "NET" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "NET" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/nmbd.8 samba-4.7.2/docs/manpages/nmbd.8
--- samba-4.7.1/docs/manpages/nmbd.8	2017-11-02 12:44:42.000000000 +0100
+++ samba-4.7.2/docs/manpages/nmbd.8	2017-11-15 09:22:35.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: nmbd
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "NMBD" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "NMBD" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/nmblookup.1 samba-4.7.2/docs/manpages/nmblookup.1
--- samba-4.7.1/docs/manpages/nmblookup.1	2017-11-02 12:44:42.000000000 +0100
+++ samba-4.7.2/docs/manpages/nmblookup.1	2017-11-15 09:22:35.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: nmblookup
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "NMBLOOKUP" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "NMBLOOKUP" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/ntlm_auth.1 samba-4.7.2/docs/manpages/ntlm_auth.1
--- samba-4.7.1/docs/manpages/ntlm_auth.1	2017-11-02 12:44:42.000000000 +0100
+++ samba-4.7.2/docs/manpages/ntlm_auth.1	2017-11-15 09:22:35.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: ntlm_auth
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "NTLM_AUTH" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "NTLM_AUTH" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/pam_winbind.8 samba-4.7.2/docs/manpages/pam_winbind.8
--- samba-4.7.1/docs/manpages/pam_winbind.8	2017-11-02 12:44:43.000000000 +0100
+++ samba-4.7.2/docs/manpages/pam_winbind.8	2017-11-15 09:22:36.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: pam_winbind
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: 8
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "PAM_WINBIND" "8" "11/02/2017" "Samba 4\&.7" "8"
+.TH "PAM_WINBIND" "8" "11/15/2017" "Samba 4\&.7" "8"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/pam_winbind.conf.5 samba-4.7.2/docs/manpages/pam_winbind.conf.5
--- samba-4.7.1/docs/manpages/pam_winbind.conf.5	2017-11-02 12:44:43.000000000 +0100
+++ samba-4.7.2/docs/manpages/pam_winbind.conf.5	2017-11-15 09:22:36.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: pam_winbind.conf
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: 5
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "PAM_WINBIND\&.CONF" "5" "11/02/2017" "Samba 4\&.7" "5"
+.TH "PAM_WINBIND\&.CONF" "5" "11/15/2017" "Samba 4\&.7" "5"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/pdbedit.8 samba-4.7.2/docs/manpages/pdbedit.8
--- samba-4.7.1/docs/manpages/pdbedit.8	2017-11-02 12:44:43.000000000 +0100
+++ samba-4.7.2/docs/manpages/pdbedit.8	2017-11-15 09:22:36.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: pdbedit
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "PDBEDIT" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "PDBEDIT" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/profiles.1 samba-4.7.2/docs/manpages/profiles.1
--- samba-4.7.1/docs/manpages/profiles.1	2017-11-02 12:44:43.000000000 +0100
+++ samba-4.7.2/docs/manpages/profiles.1	2017-11-15 09:22:36.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: profiles
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "PROFILES" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "PROFILES" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/rpcclient.1 samba-4.7.2/docs/manpages/rpcclient.1
--- samba-4.7.1/docs/manpages/rpcclient.1	2017-11-02 12:44:43.000000000 +0100
+++ samba-4.7.2/docs/manpages/rpcclient.1	2017-11-15 09:22:36.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: rpcclient
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "RPCCLIENT" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "RPCCLIENT" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/samba-regedit.8 samba-4.7.2/docs/manpages/samba-regedit.8
--- samba-4.7.1/docs/manpages/samba-regedit.8	2017-11-02 12:44:44.000000000 +0100
+++ samba-4.7.2/docs/manpages/samba-regedit.8	2017-11-15 09:22:37.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: samba-regedit
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SAMBA\-REGEDIT" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "SAMBA\-REGEDIT" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/samba-tool.8 samba-4.7.2/docs/manpages/samba-tool.8
--- samba-4.7.1/docs/manpages/samba-tool.8	2017-11-02 12:44:44.000000000 +0100
+++ samba-4.7.2/docs/manpages/samba-tool.8	2017-11-15 09:22:37.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: samba-tool
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SAMBA\-TOOL" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "SAMBA\-TOOL" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/samba.7 samba-4.7.2/docs/manpages/samba.7
--- samba-4.7.1/docs/manpages/samba.7	2017-11-02 12:44:44.000000000 +0100
+++ samba-4.7.2/docs/manpages/samba.7	2017-11-15 09:22:37.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: samba
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: Miscellanea
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SAMBA" "7" "11/02/2017" "Samba 4\&.7" "Miscellanea"
+.TH "SAMBA" "7" "11/15/2017" "Samba 4\&.7" "Miscellanea"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/samba.8 samba-4.7.2/docs/manpages/samba.8
--- samba-4.7.1/docs/manpages/samba.8	2017-11-02 12:44:44.000000000 +0100
+++ samba-4.7.2/docs/manpages/samba.8	2017-11-15 09:22:37.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: samba
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SAMBA" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "SAMBA" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/sharesec.1 samba-4.7.2/docs/manpages/sharesec.1
--- samba-4.7.1/docs/manpages/sharesec.1	2017-11-02 12:44:44.000000000 +0100
+++ samba-4.7.2/docs/manpages/sharesec.1	2017-11-15 09:22:37.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: sharesec
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SHARESEC" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "SHARESEC" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smb.conf.5 samba-4.7.2/docs/manpages/smb.conf.5
--- samba-4.7.1/docs/manpages/smb.conf.5	2017-11-02 12:44:46.000000000 +0100
+++ samba-4.7.2/docs/manpages/smb.conf.5	2017-11-15 09:22:39.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smb.conf
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: File Formats and Conventions
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMB\&.CONF" "5" "11/02/2017" "Samba 4\&.7" "File Formats and Conventions"
+.TH "SMB\&.CONF" "5" "11/15/2017" "Samba 4\&.7" "File Formats and Conventions"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbcacls.1 samba-4.7.2/docs/manpages/smbcacls.1
--- samba-4.7.1/docs/manpages/smbcacls.1	2017-11-02 12:44:46.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbcacls.1	2017-11-15 09:22:39.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbcacls
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBCACLS" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "SMBCACLS" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbclient.1 samba-4.7.2/docs/manpages/smbclient.1
--- samba-4.7.1/docs/manpages/smbclient.1	2017-11-02 12:44:46.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbclient.1	2017-11-15 09:22:39.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbclient
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBCLIENT" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "SMBCLIENT" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbcontrol.1 samba-4.7.2/docs/manpages/smbcontrol.1
--- samba-4.7.1/docs/manpages/smbcontrol.1	2017-11-02 12:44:47.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbcontrol.1	2017-11-15 09:22:40.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbcontrol
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBCONTROL" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "SMBCONTROL" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbcquotas.1 samba-4.7.2/docs/manpages/smbcquotas.1
--- samba-4.7.1/docs/manpages/smbcquotas.1	2017-11-02 12:44:47.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbcquotas.1	2017-11-15 09:22:40.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbcquotas
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBCQUOTAS" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "SMBCQUOTAS" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbd.8 samba-4.7.2/docs/manpages/smbd.8
--- samba-4.7.1/docs/manpages/smbd.8	2017-11-02 12:44:47.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbd.8	2017-11-15 09:22:40.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbd
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBD" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "SMBD" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbget.1 samba-4.7.2/docs/manpages/smbget.1
--- samba-4.7.1/docs/manpages/smbget.1	2017-11-02 12:44:47.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbget.1	2017-11-15 09:22:40.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbget
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBGET" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "SMBGET" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbgetrc.5 samba-4.7.2/docs/manpages/smbgetrc.5
--- samba-4.7.1/docs/manpages/smbgetrc.5	2017-11-02 12:44:48.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbgetrc.5	2017-11-15 09:22:41.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbgetrc
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: File Formats and Conventions
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBGETRC" "5" "11/02/2017" "Samba 4\&.7" "File Formats and Conventions"
+.TH "SMBGETRC" "5" "11/15/2017" "Samba 4\&.7" "File Formats and Conventions"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbpasswd.5 samba-4.7.2/docs/manpages/smbpasswd.5
--- samba-4.7.1/docs/manpages/smbpasswd.5	2017-11-02 12:44:48.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbpasswd.5	2017-11-15 09:22:41.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbpasswd
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: File Formats and Conventions
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBPASSWD" "5" "11/02/2017" "Samba 4\&.7" "File Formats and Conventions"
+.TH "SMBPASSWD" "5" "11/15/2017" "Samba 4\&.7" "File Formats and Conventions"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbpasswd.8 samba-4.7.2/docs/manpages/smbpasswd.8
--- samba-4.7.1/docs/manpages/smbpasswd.8	2017-11-02 12:44:48.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbpasswd.8	2017-11-15 09:22:41.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbpasswd
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBPASSWD" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "SMBPASSWD" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbspool.8 samba-4.7.2/docs/manpages/smbspool.8
--- samba-4.7.1/docs/manpages/smbspool.8	2017-11-02 12:44:48.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbspool.8	2017-11-15 09:22:41.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbspool
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBSPOOL" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "SMBSPOOL" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbspool_krb5_wrapper.8 samba-4.7.2/docs/manpages/smbspool_krb5_wrapper.8
--- samba-4.7.1/docs/manpages/smbspool_krb5_wrapper.8	2017-11-02 12:44:48.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbspool_krb5_wrapper.8	2017-11-15 09:22:41.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbspool_krb5_wrapper
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBSPOOL_KRB5_WRAPPE" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "SMBSPOOL_KRB5_WRAPPE" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbstatus.1 samba-4.7.2/docs/manpages/smbstatus.1
--- samba-4.7.1/docs/manpages/smbstatus.1	2017-11-02 12:44:49.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbstatus.1	2017-11-15 09:22:42.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbstatus
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBSTATUS" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "SMBSTATUS" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbtar.1 samba-4.7.2/docs/manpages/smbtar.1
--- samba-4.7.1/docs/manpages/smbtar.1	2017-11-02 12:44:49.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbtar.1	2017-11-15 09:22:42.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbtar
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBTAR" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "SMBTAR" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/smbtree.1 samba-4.7.2/docs/manpages/smbtree.1
--- samba-4.7.1/docs/manpages/smbtree.1	2017-11-02 12:44:49.000000000 +0100
+++ samba-4.7.2/docs/manpages/smbtree.1	2017-11-15 09:22:42.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: smbtree
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "SMBTREE" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "SMBTREE" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/testparm.1 samba-4.7.2/docs/manpages/testparm.1
--- samba-4.7.1/docs/manpages/testparm.1	2017-11-02 12:44:49.000000000 +0100
+++ samba-4.7.2/docs/manpages/testparm.1	2017-11-15 09:22:42.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: testparm
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "TESTPARM" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "TESTPARM" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_acl_tdb.8 samba-4.7.2/docs/manpages/vfs_acl_tdb.8
--- samba-4.7.1/docs/manpages/vfs_acl_tdb.8	2017-11-02 12:44:49.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_acl_tdb.8	2017-11-15 09:22:43.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_acl_tdb
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_ACL_TDB" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_ACL_TDB" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_acl_xattr.8 samba-4.7.2/docs/manpages/vfs_acl_xattr.8
--- samba-4.7.1/docs/manpages/vfs_acl_xattr.8	2017-11-02 12:44:50.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_acl_xattr.8	2017-11-15 09:22:43.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_acl_xattr
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_ACL_XATTR" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_ACL_XATTR" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_aio_fork.8 samba-4.7.2/docs/manpages/vfs_aio_fork.8
--- samba-4.7.1/docs/manpages/vfs_aio_fork.8	2017-11-02 12:44:50.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_aio_fork.8	2017-11-15 09:22:43.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_aio_fork
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_AIO_FORK" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_AIO_FORK" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_aio_linux.8 samba-4.7.2/docs/manpages/vfs_aio_linux.8
--- samba-4.7.1/docs/manpages/vfs_aio_linux.8	2017-11-02 12:44:50.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_aio_linux.8	2017-11-15 09:22:43.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_aio_linux
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_AIO_LINUX" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_AIO_LINUX" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_aio_pthread.8 samba-4.7.2/docs/manpages/vfs_aio_pthread.8
--- samba-4.7.1/docs/manpages/vfs_aio_pthread.8	2017-11-02 12:44:50.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_aio_pthread.8	2017-11-15 09:22:43.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_aio_pthread
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_AIO_PTHREAD" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_AIO_PTHREAD" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_audit.8 samba-4.7.2/docs/manpages/vfs_audit.8
--- samba-4.7.1/docs/manpages/vfs_audit.8	2017-11-02 12:44:51.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_audit.8	2017-11-15 09:22:44.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_audit
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_AUDIT" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_AUDIT" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_btrfs.8 samba-4.7.2/docs/manpages/vfs_btrfs.8
--- samba-4.7.1/docs/manpages/vfs_btrfs.8	2017-11-02 12:44:51.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_btrfs.8	2017-11-15 09:22:44.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_btrfs
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_BTRFS" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_BTRFS" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_cacheprime.8 samba-4.7.2/docs/manpages/vfs_cacheprime.8
--- samba-4.7.1/docs/manpages/vfs_cacheprime.8	2017-11-02 12:44:51.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_cacheprime.8	2017-11-15 09:22:44.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_cacheprime
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_CACHEPRIME" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_CACHEPRIME" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_cap.8 samba-4.7.2/docs/manpages/vfs_cap.8
--- samba-4.7.1/docs/manpages/vfs_cap.8	2017-11-02 12:44:51.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_cap.8	2017-11-15 09:22:44.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_cap
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_CAP" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_CAP" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_catia.8 samba-4.7.2/docs/manpages/vfs_catia.8
--- samba-4.7.1/docs/manpages/vfs_catia.8	2017-11-02 12:44:51.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_catia.8	2017-11-15 09:22:44.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_catia
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_CATIA" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_CATIA" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_ceph.8 samba-4.7.2/docs/manpages/vfs_ceph.8
--- samba-4.7.1/docs/manpages/vfs_ceph.8	2017-11-02 12:44:52.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_ceph.8	2017-11-15 09:22:45.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_ceph
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_CEPH" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_CEPH" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_commit.8 samba-4.7.2/docs/manpages/vfs_commit.8
--- samba-4.7.1/docs/manpages/vfs_commit.8	2017-11-02 12:44:52.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_commit.8	2017-11-15 09:22:45.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_commit
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_COMMIT" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_COMMIT" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_crossrename.8 samba-4.7.2/docs/manpages/vfs_crossrename.8
--- samba-4.7.1/docs/manpages/vfs_crossrename.8	2017-11-02 12:44:52.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_crossrename.8	2017-11-15 09:22:45.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_crossrename
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_CROSSRENAME" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_CROSSRENAME" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_default_quota.8 samba-4.7.2/docs/manpages/vfs_default_quota.8
--- samba-4.7.1/docs/manpages/vfs_default_quota.8	2017-11-02 12:44:52.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_default_quota.8	2017-11-15 09:22:45.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_default_quota
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_DEFAULT_QUOTA" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_DEFAULT_QUOTA" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_dirsort.8 samba-4.7.2/docs/manpages/vfs_dirsort.8
--- samba-4.7.1/docs/manpages/vfs_dirsort.8	2017-11-02 12:44:52.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_dirsort.8	2017-11-15 09:22:45.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_dirsort
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_DIRSORT" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_DIRSORT" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_extd_audit.8 samba-4.7.2/docs/manpages/vfs_extd_audit.8
--- samba-4.7.1/docs/manpages/vfs_extd_audit.8	2017-11-02 12:44:53.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_extd_audit.8	2017-11-15 09:22:46.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_extd_audit
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_EXTD_AUDIT" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_EXTD_AUDIT" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_fake_perms.8 samba-4.7.2/docs/manpages/vfs_fake_perms.8
--- samba-4.7.1/docs/manpages/vfs_fake_perms.8	2017-11-02 12:44:53.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_fake_perms.8	2017-11-15 09:22:46.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_fake_perms
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_FAKE_PERMS" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_FAKE_PERMS" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_fileid.8 samba-4.7.2/docs/manpages/vfs_fileid.8
--- samba-4.7.1/docs/manpages/vfs_fileid.8	2017-11-02 12:44:53.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_fileid.8	2017-11-15 09:22:46.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_fileid
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_FILEID" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_FILEID" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_fruit.8 samba-4.7.2/docs/manpages/vfs_fruit.8
--- samba-4.7.1/docs/manpages/vfs_fruit.8	2017-11-02 12:44:53.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_fruit.8	2017-11-15 09:22:46.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_fruit
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_FRUIT" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_FRUIT" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_full_audit.8 samba-4.7.2/docs/manpages/vfs_full_audit.8
--- samba-4.7.1/docs/manpages/vfs_full_audit.8	2017-11-02 12:44:53.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_full_audit.8	2017-11-15 09:22:47.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_full_audit
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_FULL_AUDIT" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_FULL_AUDIT" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_glusterfs.8 samba-4.7.2/docs/manpages/vfs_glusterfs.8
--- samba-4.7.1/docs/manpages/vfs_glusterfs.8	2017-11-02 12:44:54.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_glusterfs.8	2017-11-15 09:22:47.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_glusterfs
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_GLUSTERFS" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_GLUSTERFS" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_gpfs.8 samba-4.7.2/docs/manpages/vfs_gpfs.8
--- samba-4.7.1/docs/manpages/vfs_gpfs.8	2017-11-02 12:44:54.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_gpfs.8	2017-11-15 09:22:47.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_gpfs
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_GPFS" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_GPFS" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_linux_xfs_sgid.8 samba-4.7.2/docs/manpages/vfs_linux_xfs_sgid.8
--- samba-4.7.1/docs/manpages/vfs_linux_xfs_sgid.8	2017-11-02 12:44:54.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_linux_xfs_sgid.8	2017-11-15 09:22:47.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_syncops
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_SYNCOPS" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_SYNCOPS" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_media_harmony.8 samba-4.7.2/docs/manpages/vfs_media_harmony.8
--- samba-4.7.1/docs/manpages/vfs_media_harmony.8	2017-11-02 12:44:54.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_media_harmony.8	2017-11-15 09:22:47.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_media_harmony
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_MEDIA_HARMONY" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_MEDIA_HARMONY" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_netatalk.8 samba-4.7.2/docs/manpages/vfs_netatalk.8
--- samba-4.7.1/docs/manpages/vfs_netatalk.8	2017-11-02 12:44:55.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_netatalk.8	2017-11-15 09:22:48.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_netatalk
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_NETATALK" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_NETATALK" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_offline.8 samba-4.7.2/docs/manpages/vfs_offline.8
--- samba-4.7.1/docs/manpages/vfs_offline.8	2017-11-02 12:44:55.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_offline.8	2017-11-15 09:22:48.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_offline
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_OFFLINE" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_OFFLINE" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_prealloc.8 samba-4.7.2/docs/manpages/vfs_prealloc.8
--- samba-4.7.1/docs/manpages/vfs_prealloc.8	2017-11-02 12:44:55.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_prealloc.8	2017-11-15 09:22:48.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_prealloc
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_PREALLOC" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_PREALLOC" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_preopen.8 samba-4.7.2/docs/manpages/vfs_preopen.8
--- samba-4.7.1/docs/manpages/vfs_preopen.8	2017-11-02 12:44:55.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_preopen.8	2017-11-15 09:22:48.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_preopen
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_PREOPEN" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_PREOPEN" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_readahead.8 samba-4.7.2/docs/manpages/vfs_readahead.8
--- samba-4.7.1/docs/manpages/vfs_readahead.8	2017-11-02 12:44:55.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_readahead.8	2017-11-15 09:22:49.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_readahead
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_READAHEAD" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_READAHEAD" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_readonly.8 samba-4.7.2/docs/manpages/vfs_readonly.8
--- samba-4.7.1/docs/manpages/vfs_readonly.8	2017-11-02 12:44:56.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_readonly.8	2017-11-15 09:22:49.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_readonly
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_READONLY" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_READONLY" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_recycle.8 samba-4.7.2/docs/manpages/vfs_recycle.8
--- samba-4.7.1/docs/manpages/vfs_recycle.8	2017-11-02 12:44:56.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_recycle.8	2017-11-15 09:22:49.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_recycle
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_RECYCLE" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_RECYCLE" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_shadow_copy.8 samba-4.7.2/docs/manpages/vfs_shadow_copy.8
--- samba-4.7.1/docs/manpages/vfs_shadow_copy.8	2017-11-02 12:44:56.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_shadow_copy.8	2017-11-15 09:22:49.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_shadow_copy
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_SHADOW_COPY" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_SHADOW_COPY" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_shadow_copy2.8 samba-4.7.2/docs/manpages/vfs_shadow_copy2.8
--- samba-4.7.1/docs/manpages/vfs_shadow_copy2.8	2017-11-02 12:44:56.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_shadow_copy2.8	2017-11-15 09:22:49.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_shadow_copy2
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_SHADOW_COPY2" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_SHADOW_COPY2" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_shell_snap.8 samba-4.7.2/docs/manpages/vfs_shell_snap.8
--- samba-4.7.1/docs/manpages/vfs_shell_snap.8	2017-11-02 12:44:56.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_shell_snap.8	2017-11-15 09:22:50.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_shell_snap
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_SHELL_SNAP" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_SHELL_SNAP" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_snapper.8 samba-4.7.2/docs/manpages/vfs_snapper.8
--- samba-4.7.1/docs/manpages/vfs_snapper.8	2017-11-02 12:44:57.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_snapper.8	2017-11-15 09:22:50.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_snapper
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_SNAPPER" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_SNAPPER" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_streams_depot.8 samba-4.7.2/docs/manpages/vfs_streams_depot.8
--- samba-4.7.1/docs/manpages/vfs_streams_depot.8	2017-11-02 12:44:57.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_streams_depot.8	2017-11-15 09:22:50.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_streams_depot
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_STREAMS_DEPOT" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_STREAMS_DEPOT" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_streams_xattr.8 samba-4.7.2/docs/manpages/vfs_streams_xattr.8
--- samba-4.7.1/docs/manpages/vfs_streams_xattr.8	2017-11-02 12:44:57.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_streams_xattr.8	2017-11-15 09:22:50.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_streams_xattr
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_STREAMS_XATTR" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_STREAMS_XATTR" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_syncops.8 samba-4.7.2/docs/manpages/vfs_syncops.8
--- samba-4.7.1/docs/manpages/vfs_syncops.8	2017-11-02 12:44:57.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_syncops.8	2017-11-15 09:22:50.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_syncops
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_SYNCOPS" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_SYNCOPS" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_time_audit.8 samba-4.7.2/docs/manpages/vfs_time_audit.8
--- samba-4.7.1/docs/manpages/vfs_time_audit.8	2017-11-02 12:44:57.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_time_audit.8	2017-11-15 09:22:51.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_time_audit
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_TIME_AUDIT" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_TIME_AUDIT" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_tsmsm.8 samba-4.7.2/docs/manpages/vfs_tsmsm.8
--- samba-4.7.1/docs/manpages/vfs_tsmsm.8	2017-11-02 12:44:58.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_tsmsm.8	2017-11-15 09:22:51.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_tsmsm
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_TSMSM" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_TSMSM" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_unityed_media.8 samba-4.7.2/docs/manpages/vfs_unityed_media.8
--- samba-4.7.1/docs/manpages/vfs_unityed_media.8	2017-11-02 12:44:58.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_unityed_media.8	2017-11-15 09:22:51.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_unityed_media
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_UNITYED_MEDIA" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_UNITYED_MEDIA" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_worm.8 samba-4.7.2/docs/manpages/vfs_worm.8
--- samba-4.7.1/docs/manpages/vfs_worm.8	2017-11-02 12:44:58.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_worm.8	2017-11-15 09:22:51.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_worm
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_WORM" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_WORM" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_xattr_tdb.8 samba-4.7.2/docs/manpages/vfs_xattr_tdb.8
--- samba-4.7.1/docs/manpages/vfs_xattr_tdb.8	2017-11-02 12:44:58.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_xattr_tdb.8	2017-11-15 09:22:52.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_xattr_tdb
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_XATTR_TDB" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_XATTR_TDB" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfs_zfsacl.8 samba-4.7.2/docs/manpages/vfs_zfsacl.8
--- samba-4.7.1/docs/manpages/vfs_zfsacl.8	2017-11-02 12:44:58.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfs_zfsacl.8	2017-11-15 09:22:52.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfs_zfsacl
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFS_ZFSACL" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "VFS_ZFSACL" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/vfstest.1 samba-4.7.2/docs/manpages/vfstest.1
--- samba-4.7.1/docs/manpages/vfstest.1	2017-11-02 12:44:59.000000000 +0100
+++ samba-4.7.2/docs/manpages/vfstest.1	2017-11-15 09:22:52.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: vfstest
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "VFSTEST" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "VFSTEST" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/wbinfo.1 samba-4.7.2/docs/manpages/wbinfo.1
--- samba-4.7.1/docs/manpages/wbinfo.1	2017-11-02 12:44:59.000000000 +0100
+++ samba-4.7.2/docs/manpages/wbinfo.1	2017-11-15 09:22:52.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: wbinfo
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: User Commands
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "WBINFO" "1" "11/02/2017" "Samba 4\&.7" "User Commands"
+.TH "WBINFO" "1" "11/15/2017" "Samba 4\&.7" "User Commands"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/winbind_krb5_locator.7 samba-4.7.2/docs/manpages/winbind_krb5_locator.7
--- samba-4.7.1/docs/manpages/winbind_krb5_locator.7	2017-11-02 12:44:59.000000000 +0100
+++ samba-4.7.2/docs/manpages/winbind_krb5_locator.7	2017-11-15 09:22:52.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: winbind_krb5_locator
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: 7
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "WINBIND_KRB5_LOCATOR" "7" "11/02/2017" "Samba 4\&.7" "7"
+.TH "WINBIND_KRB5_LOCATOR" "7" "11/15/2017" "Samba 4\&.7" "7"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/docs/manpages/winbindd.8 samba-4.7.2/docs/manpages/winbindd.8
--- samba-4.7.1/docs/manpages/winbindd.8	2017-11-02 12:44:59.000000000 +0100
+++ samba-4.7.2/docs/manpages/winbindd.8	2017-11-15 09:22:53.000000000 +0100
@@ -2,12 +2,12 @@
 .\"     Title: winbindd
 .\"    Author: [see the "AUTHOR" section]
 .\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
-.\"      Date: 11/02/2017
+.\"      Date: 11/15/2017
 .\"    Manual: System Administration tools
 .\"    Source: Samba 4.7
 .\"  Language: English
 .\"
-.TH "WINBINDD" "8" "11/02/2017" "Samba 4\&.7" "System Administration tools"
+.TH "WINBINDD" "8" "11/15/2017" "Samba 4\&.7" "System Administration tools"
 .\" -----------------------------------------------------------------
 .\" * Define some portability stuff
 .\" -----------------------------------------------------------------
diff -Npur samba-4.7.1/lib/tevent/ABI/tevent-0.9.34.sigs samba-4.7.2/lib/tevent/ABI/tevent-0.9.34.sigs
--- samba-4.7.1/lib/tevent/ABI/tevent-0.9.34.sigs	1970-01-01 01:00:00.000000000 +0100
+++ samba-4.7.2/lib/tevent/ABI/tevent-0.9.34.sigs	2017-11-15 08:42:13.000000000 +0100
@@ -0,0 +1,99 @@
+_tevent_add_fd: struct tevent_fd *(struct tevent_context *, TALLOC_CTX *, int, uint16_t, tevent_fd_handler_t, void *, const char *, const char *)
+_tevent_add_signal: struct tevent_signal *(struct tevent_context *, TALLOC_CTX *, int, int, tevent_signal_handler_t, void *, const char *, const char *)
+_tevent_add_timer: struct tevent_timer *(struct tevent_context *, TALLOC_CTX *, struct timeval, tevent_timer_handler_t, void *, const char *, const char *)
+_tevent_create_immediate: struct tevent_immediate *(TALLOC_CTX *, const char *)
+_tevent_loop_once: int (struct tevent_context *, const char *)
+_tevent_loop_until: int (struct tevent_context *, bool (*)(void *), void *, const char *)
+_tevent_loop_wait: int (struct tevent_context *, const char *)
+_tevent_queue_create: struct tevent_queue *(TALLOC_CTX *, const char *, const char *)
+_tevent_req_callback_data: void *(struct tevent_req *)
+_tevent_req_cancel: bool (struct tevent_req *, const char *)
+_tevent_req_create: struct tevent_req *(TALLOC_CTX *, void *, size_t, const char *, const char *)
+_tevent_req_data: void *(struct tevent_req *)
+_tevent_req_done: void (struct tevent_req *, const char *)
+_tevent_req_error: bool (struct tevent_req *, uint64_t, const char *)
+_tevent_req_nomem: bool (const void *, struct tevent_req *, const char *)
+_tevent_req_notify_callback: void (struct tevent_req *, const char *)
+_tevent_req_oom: void (struct tevent_req *, const char *)
+_tevent_schedule_immediate: void (struct tevent_immediate *, struct tevent_context *, tevent_immediate_handler_t, void *, const char *, const char *)
+_tevent_threaded_schedule_immediate: void (struct tevent_threaded_context *, struct tevent_immediate *, tevent_immediate_handler_t, void *, const char *, const char *)
+tevent_backend_list: const char **(TALLOC_CTX *)
+tevent_cleanup_pending_signal_handlers: void (struct tevent_signal *)
+tevent_common_add_fd: struct tevent_fd *(struct tevent_context *, TALLOC_CTX *, int, uint16_t, tevent_fd_handler_t, void *, const char *, const char *)
+tevent_common_add_signal: struct tevent_signal *(struct tevent_context *, TALLOC_CTX *, int, int, tevent_signal_handler_t, void *, const char *, const char *)
+tevent_common_add_timer: struct tevent_timer *(struct tevent_context *, TALLOC_CTX *, struct timeval, tevent_timer_handler_t, void *, const char *, const char *)
+tevent_common_add_timer_v2: struct tevent_timer *(struct tevent_context *, TALLOC_CTX *, struct timeval, tevent_timer_handler_t, void *, const char *, const char *)
+tevent_common_check_signal: int (struct tevent_context *)
+tevent_common_context_destructor: int (struct tevent_context *)
+tevent_common_fd_destructor: int (struct tevent_fd *)
+tevent_common_fd_get_flags: uint16_t (struct tevent_fd *)
+tevent_common_fd_set_close_fn: void (struct tevent_fd *, tevent_fd_close_fn_t)
+tevent_common_fd_set_flags: void (struct tevent_fd *, uint16_t)
+tevent_common_have_events: bool (struct tevent_context *)
+tevent_common_loop_immediate: bool (struct tevent_context *)
+tevent_common_loop_timer_delay: struct timeval (struct tevent_context *)
+tevent_common_loop_wait: int (struct tevent_context *, const char *)
+tevent_common_schedule_immediate: void (struct tevent_immediate *, struct tevent_context *, tevent_immediate_handler_t, void *, const char *, const char *)
+tevent_common_threaded_activate_immediate: void (struct tevent_context *)
+tevent_common_wakeup: int (struct tevent_context *)
+tevent_common_wakeup_fd: int (int)
+tevent_common_wakeup_init: int (struct tevent_context *)
+tevent_context_init: struct tevent_context *(TALLOC_CTX *)
+tevent_context_init_byname: struct tevent_context *(TALLOC_CTX *, const char *)
+tevent_context_init_ops: struct tevent_context *(TALLOC_CTX *, const struct tevent_ops *, void *)
+tevent_debug: void (struct tevent_context *, enum tevent_debug_level, const char *, ...)
+tevent_fd_get_flags: uint16_t (struct tevent_fd *)
+tevent_fd_set_auto_close: void (struct tevent_fd *)
+tevent_fd_set_close_fn: void (struct tevent_fd *, tevent_fd_close_fn_t)
+tevent_fd_set_flags: void (struct tevent_fd *, uint16_t)
+tevent_get_trace_callback: void (struct tevent_context *, tevent_trace_callback_t *, void *)
+tevent_loop_allow_nesting: void (struct tevent_context *)
+tevent_loop_set_nesting_hook: void (struct tevent_context *, tevent_nesting_hook, void *)
+tevent_num_signals: size_t (void)
+tevent_queue_add: bool (struct tevent_queue *, struct tevent_context *, struct tevent_req *, tevent_queue_trigger_fn_t, void *)
+tevent_queue_add_entry: struct tevent_queue_entry *(struct tevent_queue *, struct tevent_context *, struct tevent_req *, tevent_queue_trigger_fn_t, void *)
+tevent_queue_add_optimize_empty: struct tevent_queue_entry *(struct tevent_queue *, struct tevent_context *, struct tevent_req *, tevent_queue_trigger_fn_t, void *)
+tevent_queue_length: size_t (struct tevent_queue *)
+tevent_queue_running: bool (struct tevent_queue *)
+tevent_queue_start: void (struct tevent_queue *)
+tevent_queue_stop: void (struct tevent_queue *)
+tevent_queue_wait_recv: bool (struct tevent_req *)
+tevent_queue_wait_send: struct tevent_req *(TALLOC_CTX *, struct tevent_context *, struct tevent_queue *)
+tevent_re_initialise: int (struct tevent_context *)
+tevent_register_backend: bool (const char *, const struct tevent_ops *)
+tevent_req_default_print: char *(struct tevent_req *, TALLOC_CTX *)
+tevent_req_defer_callback: void (struct tevent_req *, struct tevent_context *)
+tevent_req_is_error: bool (struct tevent_req *, enum tevent_req_state *, uint64_t *)
+tevent_req_is_in_progress: bool (struct tevent_req *)
+tevent_req_poll: bool (struct tevent_req *, struct tevent_context *)
+tevent_req_post: struct tevent_req *(struct tevent_req *, struct tevent_context *)
+tevent_req_print: char *(TALLOC_CTX *, struct tevent_req *)
+tevent_req_received: void (struct tevent_req *)
+tevent_req_reset_endtime: void (struct tevent_req *)
+tevent_req_set_callback: void (struct tevent_req *, tevent_req_fn, void *)
+tevent_req_set_cancel_fn: void (struct tevent_req *, tevent_req_cancel_fn)
+tevent_req_set_cleanup_fn: void (struct tevent_req *, tevent_req_cleanup_fn)
+tevent_req_set_endtime: bool (struct tevent_req *, struct tevent_context *, struct timeval)
+tevent_req_set_print_fn: void (struct tevent_req *, tevent_req_print_fn)
+tevent_sa_info_queue_count: size_t (void)
+tevent_set_abort_fn: void (void (*)(const char *))
+tevent_set_debug: int (struct tevent_context *, void (*)(void *, enum tevent_debug_level, const char *, va_list), void *)
+tevent_set_debug_stderr: int (struct tevent_context *)
+tevent_set_default_backend: void (const char *)
+tevent_set_trace_callback: void (struct tevent_context *, tevent_trace_callback_t, void *)
+tevent_signal_support: bool (struct tevent_context *)
+tevent_thread_proxy_create: struct tevent_thread_proxy *(struct tevent_context *)
+tevent_thread_proxy_schedule: void (struct tevent_thread_proxy *, struct tevent_immediate **, tevent_immediate_handler_t, void *)
+tevent_threaded_context_create: struct tevent_threaded_context *(TALLOC_CTX *, struct tevent_context *)
+tevent_timeval_add: struct timeval (const struct timeval *, uint32_t, uint32_t)
+tevent_timeval_compare: int (const struct timeval *, const struct timeval *)
+tevent_timeval_current: struct timeval (void)
+tevent_timeval_current_ofs: struct timeval (uint32_t, uint32_t)
+tevent_timeval_is_zero: bool (const struct timeval *)
+tevent_timeval_set: struct timeval (uint32_t, uint32_t)
+tevent_timeval_until: struct timeval (const struct timeval *, const struct timeval *)
+tevent_timeval_zero: struct timeval (void)
+tevent_trace_point_callback: void (struct tevent_context *, enum tevent_trace_point)
+tevent_update_timer: void (struct tevent_timer *, struct timeval)
+tevent_wakeup_recv: bool (struct tevent_req *)
+tevent_wakeup_send: struct tevent_req *(TALLOC_CTX *, struct tevent_context *, struct timeval)
diff -Npur samba-4.7.1/lib/tevent/tevent.c samba-4.7.2/lib/tevent/tevent.c
--- samba-4.7.1/lib/tevent/tevent.c	2017-07-04 12:05:25.000000000 +0200
+++ samba-4.7.2/lib/tevent/tevent.c	2017-11-15 08:42:13.000000000 +0100
@@ -128,7 +128,6 @@ static void tevent_backend_init(void)
 
 	done = true;
 
-	tevent_select_init();
 	tevent_poll_init();
 	tevent_poll_mt_init();
 #if defined(HAVE_EPOLL)
diff -Npur samba-4.7.1/lib/tevent/tevent_internal.h samba-4.7.2/lib/tevent/tevent_internal.h
--- samba-4.7.1/lib/tevent/tevent_internal.h	2017-07-04 12:05:25.000000000 +0200
+++ samba-4.7.2/lib/tevent/tevent_internal.h	2017-11-15 08:42:13.000000000 +0100
@@ -377,7 +377,6 @@ int tevent_common_check_signal(struct te
 void tevent_cleanup_pending_signal_handlers(struct tevent_signal *se);
 
 bool tevent_standard_init(void);
-bool tevent_select_init(void);
 bool tevent_poll_init(void);
 void tevent_poll_event_add_fd_internal(struct tevent_context *ev,
 				       struct tevent_fd *fde);
diff -Npur samba-4.7.1/lib/tevent/tevent_select.c samba-4.7.2/lib/tevent/tevent_select.c
--- samba-4.7.1/lib/tevent/tevent_select.c	2017-07-04 12:05:25.000000000 +0200
+++ samba-4.7.2/lib/tevent/tevent_select.c	1970-01-01 01:00:00.000000000 +0100
@@ -1,280 +0,0 @@
-/* 
-   Unix SMB/CIFS implementation.
-   main select loop and event handling
-   Copyright (C) Andrew Tridgell	2003-2005
-   Copyright (C) Stefan Metzmacher	2005-2009
-
-     ** NOTE! The following LGPL license applies to the tevent
-     ** library. This does NOT imply that all of Samba is released
-     ** under the LGPL
-
-   This library is free software; you can redistribute it and/or
-   modify it under the terms of the GNU Lesser General Public
-   License as published by the Free Software Foundation; either
-   version 3 of the License, or (at your option) any later version.
-
-   This library is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
-   Lesser General Public License for more details.
-
-   You should have received a copy of the GNU Lesser General Public
-   License along with this library; if not, see <http://www.gnu.org/licenses/>.
-*/
-
-#include "replace.h"
-#include "system/filesys.h"
-#include "system/select.h"
-#include "tevent.h"
-#include "tevent_util.h"
-#include "tevent_internal.h"
-
-struct select_event_context {
-	/* a pointer back to the generic event_context */
-	struct tevent_context *ev;
-
-	/* the maximum file descriptor number in fd_events */
-	int maxfd;
-};
-
-/*
-  create a select_event_context structure.
-*/
-static int select_event_context_init(struct tevent_context *ev)
-{
-	struct select_event_context *select_ev;
-
-	/*
-	 * We might be called during tevent_re_initialise()
-	 * which means we need to free our old additional_data.
-	 */
-	TALLOC_FREE(ev->additional_data);
-
-	select_ev = talloc_zero(ev, struct select_event_context);
-	if (!select_ev) return -1;
-	select_ev->ev = ev;
-
-	ev->additional_data = select_ev;
-	return 0;
-}
-
-/*
-  recalculate the maxfd
-*/
-static void calc_maxfd(struct select_event_context *select_ev)
-{
-	struct tevent_fd *fde;
-
-	select_ev->maxfd = 0;
-	for (fde = select_ev->ev->fd_events; fde; fde = fde->next) {
-		if (fde->fd > select_ev->maxfd) {
-			select_ev->maxfd = fde->fd;
-		}
-	}
-}
-
-
-/* to mark the ev->maxfd invalid
- * this means we need to recalculate it
- */
-#define EVENT_INVALID_MAXFD (-1)
-
-/*
-  destroy an fd_event
-*/
-static int select_event_fd_destructor(struct tevent_fd *fde)
-{
-	struct tevent_context *ev = fde->event_ctx;
-	struct select_event_context *select_ev = NULL;
-
-	if (ev) {
-		select_ev = talloc_get_type_abort(ev->additional_data,
-						  struct select_event_context);
-
-		if (select_ev->maxfd == fde->fd) {
-			select_ev->maxfd = EVENT_INVALID_MAXFD;
-		}
-	}
-
-	return tevent_common_fd_destructor(fde);
-}
-
-/*
-  add a fd based event
-  return NULL on failure (memory allocation error)
-*/
-static struct tevent_fd *select_event_add_fd(struct tevent_context *ev, TALLOC_CTX *mem_ctx,
-					     int fd, uint16_t flags,
-					     tevent_fd_handler_t handler,
-					     void *private_data,
-					     const char *handler_name,
-					     const char *location)
-{
-	struct select_event_context *select_ev =
-		talloc_get_type_abort(ev->additional_data,
-		struct select_event_context);
-	struct tevent_fd *fde;
-
-	if (fd < 0 || fd >= FD_SETSIZE) {
-		errno = EBADF;
-		return NULL;
-	}
-
-	fde = tevent_common_add_fd(ev, mem_ctx, fd, flags,
-				   handler, private_data,
-				   handler_name, location);
-	if (!fde) return NULL;
-
-	if ((select_ev->maxfd != EVENT_INVALID_MAXFD)
-	    && (fde->fd > select_ev->maxfd)) {
-		select_ev->maxfd = fde->fd;
-	}
-	talloc_set_destructor(fde, select_event_fd_destructor);
-
-	return fde;
-}
-
-/*
-  event loop handling using select()
-*/
-static int select_event_loop_select(struct select_event_context *select_ev, struct timeval *tvalp)
-{
-	fd_set r_fds, w_fds;
-	struct tevent_fd *fde;
-	int selrtn;
-	int select_errno;
-
-	/* we maybe need to recalculate the maxfd */
-	if (select_ev->maxfd == EVENT_INVALID_MAXFD) {
-		calc_maxfd(select_ev);
-	}
-
-	FD_ZERO(&r_fds);
-	FD_ZERO(&w_fds);
-
-	/* setup any fd events */
-	for (fde = select_ev->ev->fd_events; fde; fde = fde->next) {
-		if (fde->fd < 0 || fde->fd >= FD_SETSIZE) {
-			tevent_debug(select_ev->ev, TEVENT_DEBUG_FATAL,
-				     "ERROR: EBADF fd[%d] >= %d "
-				     "select_event_loop_once\n",
-				     fde->fd, FD_SETSIZE);
-			errno = EBADF;
-			return -1;
-		}
-
-		if (fde->flags & TEVENT_FD_READ) {
-			FD_SET(fde->fd, &r_fds);
-		}
-		if (fde->flags & TEVENT_FD_WRITE) {
-			FD_SET(fde->fd, &w_fds);
-		}
-	}
-
-	if (select_ev->ev->signal_events &&
-	    tevent_common_check_signal(select_ev->ev)) {
-		return 0;
-	}
-
-	tevent_trace_point_callback(select_ev->ev, TEVENT_TRACE_BEFORE_WAIT);
-	selrtn = select(select_ev->maxfd+1, &r_fds, &w_fds, NULL, tvalp);
-	select_errno = errno;
-	tevent_trace_point_callback(select_ev->ev, TEVENT_TRACE_AFTER_WAIT);
-
-	if (selrtn == -1 && select_errno == EINTR &&
-	    select_ev->ev->signal_events) {
-		tevent_common_check_signal(select_ev->ev);
-		return 0;
-	}
-
-	if (selrtn == -1 && select_errno == EBADF) {
-		/* the socket is dead! this should never
-		   happen as the socket should have first been
-		   made readable and that should have removed
-		   the event, so this must be a bug. This is a
-		   fatal error. */
-		tevent_debug(select_ev->ev, TEVENT_DEBUG_FATAL,
-			     "ERROR: EBADF on select_event_loop_once\n");
-		errno = select_errno;
-		return -1;
-	}
-
-	if (selrtn == 0 && tvalp) {
-		/* we don't care about a possible delay here */
-		tevent_common_loop_timer_delay(select_ev->ev);
-		return 0;
-	}
-
-	if (selrtn > 0) {
-		/* at least one file descriptor is ready - check
-		   which ones and call the handler, being careful to allow
-		   the handler to remove itself when called */
-		for (fde = select_ev->ev->fd_events; fde; fde = fde->next) {
-			uint16_t flags = 0;
-
-			if (FD_ISSET(fde->fd, &r_fds) && (fde->flags & TEVENT_FD_READ)) {
-				flags |= TEVENT_FD_READ;
-			}
-			if (FD_ISSET(fde->fd, &w_fds) && (fde->flags & TEVENT_FD_WRITE)) {
-				flags |= TEVENT_FD_WRITE;
-			}
-			if (flags) {
-				DLIST_DEMOTE(select_ev->ev->fd_events, fde);
-				fde->handler(select_ev->ev, fde, flags, fde->private_data);
-				break;
-			}
-		}
-	}
-
-	return 0;
-}
-
-/*
-  do a single event loop using the events defined in ev 
-*/
-static int select_event_loop_once(struct tevent_context *ev, const char *location)
-{
-	struct select_event_context *select_ev =
-		talloc_get_type_abort(ev->additional_data,
-		struct select_event_context);
-	struct timeval tval;
-
-	if (ev->signal_events &&
-	    tevent_common_check_signal(ev)) {
-		return 0;
-	}
-
-	if (ev->threaded_contexts != NULL) {
-		tevent_common_threaded_activate_immediate(ev);
-	}
-
-	if (ev->immediate_events &&
-	    tevent_common_loop_immediate(ev)) {
-		return 0;
-	}
-
-	tval = tevent_common_loop_timer_delay(ev);
-	if (tevent_timeval_is_zero(&tval)) {
-		return 0;
-	}
-
-	return select_event_loop_select(select_ev, &tval);
-}
-
-static const struct tevent_ops select_event_ops = {
-	.context_init		= select_event_context_init,
-	.add_fd			= select_event_add_fd,
-	.set_fd_close_fn	= tevent_common_fd_set_close_fn,
-	.get_fd_flags		= tevent_common_fd_get_flags,
-	.set_fd_flags		= tevent_common_fd_set_flags,
-	.add_timer		= tevent_common_add_timer_v2,
-	.schedule_immediate	= tevent_common_schedule_immediate,
-	.add_signal		= tevent_common_add_signal,
-	.loop_once		= select_event_loop_once,
-	.loop_wait		= tevent_common_loop_wait,
-};
-
-_PRIVATE_ bool tevent_select_init(void)
-{
-	return tevent_register_backend("select", &select_event_ops);
-}
diff -Npur samba-4.7.1/lib/tevent/tevent_threads.c samba-4.7.2/lib/tevent/tevent_threads.c
--- samba-4.7.1/lib/tevent/tevent_threads.c	2017-07-04 12:05:25.000000000 +0200
+++ samba-4.7.2/lib/tevent/tevent_threads.c	2017-11-15 08:42:13.000000000 +0100
@@ -451,7 +451,7 @@ void _tevent_threaded_schedule_immediate
 {
 #ifdef HAVE_PTHREAD
 	struct tevent_context *ev;
-	int ret;
+	int ret, wakeup_fd;
 
 	ret = pthread_mutex_lock(&tctx->event_ctx_mutex);
 	if (ret != 0) {
@@ -495,6 +495,8 @@ void _tevent_threaded_schedule_immediate
 		abort();
 	}
 
+	wakeup_fd = tctx->wakeup_fd;
+
 	ret = pthread_mutex_unlock(&tctx->event_ctx_mutex);
 	if (ret != 0) {
 		abort();
@@ -510,7 +512,7 @@ void _tevent_threaded_schedule_immediate
 	 * than a noncontended one. So I'd opt for the lower footprint
 	 * initially. Maybe we have to change that later.
 	 */
-	tevent_common_wakeup_fd(tctx->wakeup_fd);
+	tevent_common_wakeup_fd(wakeup_fd);
 #else
 	/*
 	 * tevent_threaded_context_create() returned NULL with ENOSYS...
diff -Npur samba-4.7.1/lib/tevent/wscript samba-4.7.2/lib/tevent/wscript
--- samba-4.7.1/lib/tevent/wscript	2017-07-25 11:09:58.000000000 +0200
+++ samba-4.7.2/lib/tevent/wscript	2017-11-15 08:42:13.000000000 +0100
@@ -1,7 +1,7 @@
 #!/usr/bin/env python
 
 APPNAME = 'tevent'
-VERSION = '0.9.33'
+VERSION = '0.9.34'
 
 blddir = 'bin'
 
@@ -77,7 +77,7 @@ def build(bld):
     bld.RECURSE('lib/talloc')
 
     SRC = '''tevent.c tevent_debug.c tevent_fd.c tevent_immediate.c
-             tevent_queue.c tevent_req.c tevent_select.c
+             tevent_queue.c tevent_req.c
              tevent_poll.c tevent_threads.c
              tevent_signal.c tevent_standard.c tevent_timed.c tevent_util.c tevent_wakeup.c'''
 
diff -Npur samba-4.7.1/python/samba/tests/__init__.py samba-4.7.2/python/samba/tests/__init__.py
--- samba-4.7.1/python/samba/tests/__init__.py	2017-07-04 12:05:25.000000000 +0200
+++ samba-4.7.2/python/samba/tests/__init__.py	2017-11-15 08:42:13.000000000 +0100
@@ -311,19 +311,30 @@ class BlackboxTestCase(TestCaseInTempDir
         return line
 
     def check_run(self, line):
+        self.check_exit_code(line, 0)
+
+    def check_exit_code(self, line, expected):
         line = self._make_cmdline(line)
-        p = subprocess.Popen(line, stdout=subprocess.PIPE, stderr=subprocess.PIPE, shell=True)
-        retcode = p.wait()
-        if retcode:
-            raise BlackboxProcessError(retcode, line, p.stdout.read(), p.stderr.read())
+        p = subprocess.Popen(line,
+                             stdout=subprocess.PIPE,
+                             stderr=subprocess.PIPE,
+                             shell=True)
+        stdoutdata, stderrdata = p.communicate()
+        retcode = p.returncode
+        if retcode != expected:
+            raise BlackboxProcessError(retcode,
+                                       line,
+                                       stdoutdata,
+                                       stderrdata)
 
     def check_output(self, line):
         line = self._make_cmdline(line)
         p = subprocess.Popen(line, stdout=subprocess.PIPE, stderr=subprocess.PIPE, shell=True, close_fds=True)
-        retcode = p.wait()
+        stdoutdata, stderrdata = p.communicate()
+        retcode = p.returncode
         if retcode:
-            raise BlackboxProcessError(retcode, line, p.stdout.read(), p.stderr.read())
-        return p.stdout.read()
+            raise BlackboxProcessError(retcode, line, stdoutdata, stderrdata)
+        return stdoutdata
 
 
 def connect_samdb(samdb_url, lp=None, session_info=None, credentials=None,
diff -Npur samba-4.7.1/source3/selftest/tests.py samba-4.7.2/source3/selftest/tests.py
--- samba-4.7.1/source3/selftest/tests.py	2017-11-02 12:38:36.000000000 +0100
+++ samba-4.7.2/source3/selftest/tests.py	2017-11-15 08:42:13.000000000 +0100
@@ -133,7 +133,7 @@ local_tests = [
     "LOCAL-sid_to_string",
     "LOCAL-binary_to_sid",
     "LOCAL-DBTRANS",
-    "LOCAL-TEVENT-SELECT",
+    "LOCAL-TEVENT-POLL",
     "LOCAL-CONVERT-STRING",
     "LOCAL-CONV-AUTH-INFO",
     "LOCAL-IDMAP-TDB-COMMON",
@@ -497,7 +497,7 @@ for t in tests:
         plansmbtorture4testsuite(t, "simpleserver", '//$SERVER/dosmode -U$USERNAME%$PASSWORD')
     elif t == "smb2.kernel-oplocks":
         if have_linux_kernel_oplocks:
-            plansmbtorture4testsuite(t, "nt4_dc", '//$SERVER/kernel_oplocks -U$USERNAME%$PASSWORD')
+            plansmbtorture4testsuite(t, "nt4_dc", '//$SERVER/kernel_oplocks -U$USERNAME%$PASSWORD --option=torture:localdir=$SELFTEST_PREFIX/nt4_dc/share')
     elif t == "smb2.notify-inotify":
         if have_inotify:
             plansmbtorture4testsuite(t, "fileserver", '//$SERVER_IP/tmp -U$USERNAME%$PASSWORD')
diff -Npur samba-4.7.1/source3/smbd/dir.c samba-4.7.2/source3/smbd/dir.c
--- samba-4.7.1/source3/smbd/dir.c	2017-07-04 12:05:26.000000000 +0200
+++ samba-4.7.2/source3/smbd/dir.c	2017-11-15 08:42:13.000000000 +0100
@@ -2128,9 +2128,9 @@ NTSTATUS can_delete_directory_fsp(files_
 	char *talloced = NULL;
 	SMB_STRUCT_STAT st;
 	struct connection_struct *conn = fsp->conn;
-	struct smb_Dir *dir_hnd = OpenDir_fsp(talloc_tos(),
+	struct smb_Dir *dir_hnd = OpenDir(talloc_tos(),
 					conn,
-					fsp,
+					fsp->fsp_name,
 					NULL,
 					0);
 
diff -Npur samba-4.7.1/source3/smbd/open.c samba-4.7.2/source3/smbd/open.c
--- samba-4.7.1/source3/smbd/open.c	2017-07-25 11:09:58.000000000 +0200
+++ samba-4.7.2/source3/smbd/open.c	2017-11-15 08:42:13.000000000 +0100
@@ -1896,23 +1896,6 @@ static bool delay_for_oplock(files_struc
 	return delay;
 }
 
-/**
- * Return lease or oplock state from a share mode
- **/
-static uint32_t get_lease_type_from_share_mode(const struct share_mode_data *d)
-{
-	uint32_t e_lease_type = 0;
-	uint32_t i;
-
-	for (i=0; i < d->num_share_modes; i++) {
-		struct share_mode_entry *e = &d->share_modes[i];
-
-		e_lease_type |= get_lease_type(d, e);
-	}
-
-	return e_lease_type;
-}
-
 static bool file_has_brlocks(files_struct *fsp)
 {
 	struct byte_range_lock *br_lck;
@@ -2325,11 +2308,6 @@ static struct deferred_open_record *defe
 struct defer_open_state {
 	struct smbXsrv_connection *xconn;
 	uint64_t mid;
-	struct file_id file_id;
-	struct timeval request_time;
-	struct timeval timeout;
-	bool kernel_oplock;
-	uint32_t lease_type;
 };
 
 static void defer_open_done(struct tevent_req *req);
@@ -2348,7 +2326,6 @@ static void defer_open(struct share_mode
 		       struct timeval timeout,
 		       struct smb_request *req,
 		       bool delayed_for_oplocks,
-		       bool kernel_oplock,
 		       struct file_id id)
 {
 	struct deferred_open_record *open_rec = NULL;
@@ -2360,12 +2337,11 @@ static void defer_open(struct share_mode
 	abs_timeout = timeval_sum(&request_time, &timeout);
 
 	DBG_DEBUG("request time [%s] timeout [%s] mid [%" PRIu64 "] "
-		  "delayed_for_oplocks [%s] kernel_oplock [%s] file_id [%s]\n",
+		  "delayed_for_oplocks [%s] file_id [%s]\n",
 		  timeval_string(talloc_tos(), &request_time, false),
 		  timeval_string(talloc_tos(), &abs_timeout, false),
 		  req->mid,
 		  delayed_for_oplocks ? "yes" : "no",
-		  kernel_oplock ? "yes" : "no",
 		  file_id_string_tos(&id));
 
 	open_rec = deferred_open_record_create(delayed_for_oplocks,
@@ -2382,11 +2358,6 @@ static void defer_open(struct share_mode
 	}
 	watch_state->xconn = req->xconn;
 	watch_state->mid = req->mid;
-	watch_state->file_id = lck->data->id;
-	watch_state->request_time = request_time;
-	watch_state->timeout = timeout;
-	watch_state->kernel_oplock = kernel_oplock;
-	watch_state->lease_type = get_lease_type_from_share_mode(lck->data);
 
 	DBG_DEBUG("defering mid %" PRIu64 "\n", req->mid);
 
@@ -2416,12 +2387,8 @@ static void defer_open_done(struct teven
 {
 	struct defer_open_state *state = tevent_req_callback_data(
 		req, struct defer_open_state);
-	struct tevent_req *watch_req = NULL;
-	struct share_mode_lock *lck = NULL;
-	bool schedule_req = true;
-	struct timeval timeout;
 	NTSTATUS status;
-	bool ok;
+	bool ret;
 
 	status = dbwrap_watched_watch_recv(req, talloc_tos(), NULL, NULL,
 					  NULL);
@@ -2433,88 +2400,50 @@ static void defer_open_done(struct teven
 		 * Even if it failed, retry anyway. TODO: We need a way to
 		 * tell a re-scheduled open about that error.
 		 */
-		if (NT_STATUS_EQUAL(status, NT_STATUS_IO_TIMEOUT) &&
-		    state->kernel_oplock)
-		{
-			/*
-			 * If we reschedule but the kernel oplock is still hold
-			 * we would block in the second open as that will be a
-			 * blocking open attempt.
-			 */
-			exit_server("Kernel oplock holder didn't "
-				    "respond to break message");
-		}
 	}
 
-	if (state->kernel_oplock) {
-		lck = get_existing_share_mode_lock(talloc_tos(), state->file_id);
-		if (lck != NULL) {
-			uint32_t lease_type;
+	DEBUG(10, ("scheduling mid %llu\n", (unsigned long long)state->mid));
 
-			lease_type = get_lease_type_from_share_mode(lck->data);
-
-			if ((lease_type != 0) &&
-			    (lease_type == state->lease_type))
-			{
-				DBG_DEBUG("Unchanged lease: %" PRIu32 "\n",
-					  lease_type);
-				schedule_req = false;
-			}
-		}
-	}
-
-	if (schedule_req) {
-		DBG_DEBUG("scheduling mid %" PRIu64 "\n", state->mid);
-
-		ok = schedule_deferred_open_message_smb(state->xconn,
-							state->mid);
-		if (!ok) {
-			exit_server("schedule_deferred_open_message_smb failed");
-		}
-		TALLOC_FREE(lck);
-		TALLOC_FREE(state);
-		return;
-	}
+	ret = schedule_deferred_open_message_smb(state->xconn, state->mid);
+	SMB_ASSERT(ret);
+	TALLOC_FREE(state);
+}
 
-	DBG_DEBUG("Keep waiting for oplock release for [%s/%s%s] "
-		  "mid: %" PRIu64 "\n",
-		  lck->data->servicepath,
-		  lck->data->base_name,
-		  lck->data->stream_name ? lck->data->stream_name : "",
-		  state->mid);
+/**
+ * Actually attempt the kernel oplock polling open.
+ */
 
-	watch_req = dbwrap_watched_watch_send(state,
-					      state->xconn->ev_ctx,
-					      lck->data->record,
-					      (struct server_id){0});
-	if (watch_req == NULL) {
-		exit_server("Could not watch share mode record");
-	}
-	tevent_req_set_callback(watch_req, defer_open_done, state);
+static void kernel_oplock_poll_open_timer(struct tevent_context *ev,
+				      struct tevent_timer *te,
+				      struct timeval current_time,
+				      void *private_data)
+{
+	bool ok;
+	struct smb_request *req = (struct smb_request *)private_data;
 
-	timeout = timeval_sum(&state->request_time, &state->timeout);
-	ok = tevent_req_set_endtime(watch_req, state->xconn->ev_ctx, timeout);
+	ok = schedule_deferred_open_message_smb(req->xconn, req->mid);
 	if (!ok) {
-		exit_server("tevent_req_set_endtime failed");
+		exit_server("schedule_deferred_open_message_smb failed");
 	}
-
-	TALLOC_FREE(lck);
+	DBG_DEBUG("kernel_oplock_poll_open_timer fired. Retying open !\n");
 }
 
 /**
- * Reschedule an open for immediate execution
+ * Reschedule an open for 1 second from now, if not timed out.
  **/
-static void retry_open(struct timeval request_time,
+static void setup_kernel_oplock_poll_open(struct timeval request_time,
 		       struct smb_request *req,
 		       struct file_id id)
 {
-	struct deferred_open_record *open_rec = NULL;
+
 	bool ok;
+	struct deferred_open_record *open_rec = NULL;
+	/* Maximum wait time. */
+	struct timeval timeout = timeval_set(OPLOCK_BREAK_TIMEOUT*2, 0);
 
-	DBG_DEBUG("request time [%s] mid [%" PRIu64 "] file_id [%s]\n",
-		  timeval_string(talloc_tos(), &request_time, false),
-		  req->mid,
-		  file_id_string_tos(&id));
+	if (request_timed_out(request_time, timeout)) {
+		return;
+	}
 
 	open_rec = deferred_open_record_create(false, false, id);
 	if (open_rec == NULL) {
@@ -2523,17 +2452,30 @@ static void retry_open(struct timeval re
 
 	ok = push_deferred_open_message_smb(req,
 					    request_time,
-					    timeval_set(0, 0),
+					    timeout,
 					    id,
 					    open_rec);
 	if (!ok) {
 		exit_server("push_deferred_open_message_smb failed");
 	}
 
-	ok = schedule_deferred_open_message_smb(req->xconn, req->mid);
-	if (!ok) {
-		exit_server("schedule_deferred_open_message_smb failed");
+	/*
+	 * As this timer event is owned by req, it will
+	 * disappear if req it talloc_freed.
+	 */
+	open_rec->te = tevent_add_timer(req->sconn->ev_ctx,
+					req,
+					timeval_current_ofs(1, 0),
+					kernel_oplock_poll_open_timer,
+					req);
+	if (open_rec->te == NULL) {
+		exit_server("tevent_add_timer failed");
 	}
+
+	DBG_DEBUG("poll request time [%s] mid [%" PRIu64 "] file_id [%s]\n",
+		  timeval_string(talloc_tos(), &request_time, false),
+		  req->mid,
+		  file_id_string_tos(&id));
 }
 
 /****************************************************************************
@@ -2649,8 +2591,7 @@ static NTSTATUS fcb_or_dos_open(struct s
 static void schedule_defer_open(struct share_mode_lock *lck,
 				struct file_id id,
 				struct timeval request_time,
-				struct smb_request *req,
-				bool kernel_oplock)
+				struct smb_request *req)
 {
 	/* This is a relative time, added to the absolute
 	   request_time value to get the absolute timeout time.
@@ -2674,7 +2615,7 @@ static void schedule_defer_open(struct s
 		return;
 	}
 
-	defer_open(lck, request_time, timeout, req, true, kernel_oplock, id);
+	defer_open(lck, request_time, timeout, req, true, id);
 }
 
 /****************************************************************************
@@ -3253,20 +3194,18 @@ static NTSTATUS open_file_ntcreate(conne
 		flags2 &= ~(O_CREAT|O_TRUNC);
 	}
 
-	if (first_open_attempt && lp_kernel_oplocks(SNUM(conn))) {
+	if (lp_kernel_oplocks(SNUM(conn))) {
 		/*
 		 * With kernel oplocks the open breaking an oplock
 		 * blocks until the oplock holder has given up the
-		 * oplock or closed the file. We prevent this by first
+		 * oplock or closed the file. We prevent this by always
 		 * trying to open the file with O_NONBLOCK (see "man
-		 * fcntl" on Linux). For the second try, triggered by
-		 * an oplock break response, we do not need this
-		 * anymore.
+		 * fcntl" on Linux).
 		 *
-		 * This is true under the assumption that only Samba
-		 * requests kernel oplocks. Once someone else like
-		 * NFSv4 starts to use that API, we will have to
-		 * modify this by communicating with the NFSv4 server.
+		 * If a process that doesn't use the smbd open files
+		 * database or communication methods holds a kernel
+		 * oplock we must periodically poll for available open
+		 * using O_NONBLOCK.
 		 */
 		flags2 |= O_NONBLOCK;
 	}
@@ -3345,9 +3284,16 @@ static NTSTATUS open_file_ntcreate(conne
 
 		lck = get_existing_share_mode_lock(talloc_tos(), fsp->file_id);
 		if (lck == NULL) {
-			retry_open(request_time, req, fsp->file_id);
-			DEBUG(10, ("No share mode lock found after "
-				   "EWOULDBLOCK, retrying sync\n"));
+			/*
+			 * No oplock from Samba around. Set up a poll every 1
+			 * second to retry a non-blocking open until the time
+			 * expires.
+			 */
+			setup_kernel_oplock_poll_open(request_time,
+						req,
+						fsp->file_id);
+			DBG_DEBUG("No Samba oplock around after EWOULDBLOCK. "
+				"Retrying with poll\n");
 			return NT_STATUS_SHARING_VIOLATION;
 		}
 
@@ -3360,7 +3306,7 @@ static NTSTATUS open_file_ntcreate(conne
 					 first_open_attempt);
 		if (delay) {
 			schedule_defer_open(lck, fsp->file_id, request_time,
-					    req, true);
+					    req);
 			TALLOC_FREE(lck);
 			DEBUG(10, ("Sent oplock break request to kernel "
 				   "oplock holder\n"));
@@ -3368,14 +3314,15 @@ static NTSTATUS open_file_ntcreate(conne
 		}
 
 		/*
-		 * No oplock from Samba around. Immediately retry with
-		 * a blocking open.
+		 * No oplock from Samba around. Set up a poll every 1
+		 * second to retry a non-blocking open until the time
+		 * expires.
 		 */
-		retry_open(request_time, req, fsp->file_id);
+		setup_kernel_oplock_poll_open(request_time, req, fsp->file_id);
 
 		TALLOC_FREE(lck);
-		DEBUG(10, ("No Samba oplock around after EWOULDBLOCK. "
-			   "Retrying sync\n"));
+		DBG_DEBUG("No Samba oplock around after EWOULDBLOCK. "
+			"Retrying with poll\n");
 		return NT_STATUS_SHARING_VIOLATION;
 	}
 
@@ -3493,7 +3440,7 @@ static NTSTATUS open_file_ntcreate(conne
 					 first_open_attempt);
 		if (delay) {
 			schedule_defer_open(lck, fsp->file_id,
-					    request_time, req, false);
+					    request_time, req);
 			TALLOC_FREE(lck);
 			fd_close(fsp);
 			return NT_STATUS_SHARING_VIOLATION;
@@ -3597,7 +3544,7 @@ static NTSTATUS open_file_ntcreate(conne
 
 			if (!request_timed_out(request_time, timeout)) {
 				defer_open(lck, request_time, timeout, req,
-					   false, false, id);
+					   false, id);
 			}
 		}
 
diff -Npur samba-4.7.1/source3/torture/torture.c samba-4.7.2/source3/torture/torture.c
--- samba-4.7.1/source3/torture/torture.c	2017-08-15 09:16:59.000000000 +0200
+++ samba-4.7.2/source3/torture/torture.c	2017-11-15 08:42:13.000000000 +0100
@@ -11114,17 +11114,17 @@ static bool run_local_dbtrans(int dummy)
 
 /*
  * Just a dummy test to be run under a debugger. There's no real way
- * to inspect the tevent_select specific function from outside of
- * tevent_select.c.
+ * to inspect the tevent_poll specific function from outside of
+ * tevent_poll.c.
  */
 
-static bool run_local_tevent_select(int dummy)
+static bool run_local_tevent_poll(int dummy)
 {
 	struct tevent_context *ev;
 	struct tevent_fd *fd1, *fd2;
 	bool result = false;
 
-	ev = tevent_context_init_byname(NULL, "select");
+	ev = tevent_context_init_byname(NULL, "poll");
 	if (ev == NULL) {
 		d_fprintf(stderr, "tevent_context_init_byname failed\n");
 		goto fail;
@@ -11677,7 +11677,7 @@ static struct {
 	{ "LOCAL-sid_to_string", run_local_sid_to_string, 0},
 	{ "LOCAL-binary_to_sid", run_local_binary_to_sid, 0},
 	{ "LOCAL-DBTRANS", run_local_dbtrans, 0},
-	{ "LOCAL-TEVENT-SELECT", run_local_tevent_select, 0},
+	{ "LOCAL-TEVENT-POLL", run_local_tevent_poll, 0},
 	{ "LOCAL-CONVERT-STRING", run_local_convert_string, 0},
 	{ "LOCAL-CONV-AUTH-INFO", run_local_conv_auth_info, 0},
 	{ "LOCAL-hex_encode_buf", run_local_hex_encode_buf, 0},
diff -Npur samba-4.7.1/source4/torture/smb2/delete-on-close.c samba-4.7.2/source4/torture/smb2/delete-on-close.c
--- samba-4.7.1/source4/torture/smb2/delete-on-close.c	2017-07-04 12:05:26.000000000 +0200
+++ samba-4.7.2/source4/torture/smb2/delete-on-close.c	2017-11-15 08:42:13.000000000 +0100
@@ -516,6 +516,71 @@ static bool test_doc_create_if_exist(str
 	return true;
 }
 
+static bool test_doc_find_and_set_doc(struct torture_context *tctx, struct smb2_tree *tree)
+{
+	struct smb2_create io;
+	struct smb2_find find;
+	NTSTATUS status;
+	union smb_search_data *d;
+	union smb_setfileinfo sfinfo;
+	unsigned int count;
+	uint32_t perms = 0;
+
+	perms = SEC_STD_SYNCHRONIZE | SEC_STD_READ_CONTROL | SEC_STD_DELETE |
+		SEC_DIR_WRITE_ATTRIBUTE | SEC_DIR_READ_ATTRIBUTE |
+		SEC_DIR_WRITE_EA | SEC_FILE_APPEND_DATA |
+		SEC_FILE_WRITE_DATA | SEC_DIR_LIST;
+
+	/* File should not exist for this first test, so make sure */
+	set_dir_delete_perms(tctx, tree);
+
+	smb2_deltree(tree, DNAME);
+
+	create_dir(tctx, tree);
+
+	torture_comment(tctx, "FIND and delete directory\n");
+	torture_comment(tctx, "We expect NT_STATUS_OK\n");
+
+	/* open the directory first */
+	ZERO_STRUCT(io);
+	io.in.desired_access	 = perms;
+	io.in.file_attributes	 = FILE_ATTRIBUTE_DIRECTORY;
+	io.in.create_disposition = NTCREATEX_DISP_OPEN_IF;
+	io.in.share_access	 = NTCREATEX_SHARE_ACCESS_READ |
+				   NTCREATEX_SHARE_ACCESS_DELETE;
+	io.in.create_options     = NTCREATEX_OPTIONS_DIRECTORY;
+	io.in.fname              = DNAME;
+
+	status = smb2_create(tree, tctx, &io);
+	CHECK_STATUS(status, NT_STATUS_OK);
+
+	/* list directory */
+	ZERO_STRUCT(find);
+	find.in.file.handle        = io.out.file.handle;
+	find.in.pattern            = "*";
+	find.in.continue_flags     = SMB2_CONTINUE_FLAG_SINGLE;
+	find.in.max_response_size  = 0x100;
+	find.in.level              = SMB2_FIND_BOTH_DIRECTORY_INFO;
+
+	/* start enumeration on directory */
+	status = smb2_find_level(tree, tree, &find, &count, &d);
+	CHECK_STATUS(status, NT_STATUS_OK);
+
+	/* set delete-on-close */
+	ZERO_STRUCT(sfinfo);
+	sfinfo.generic.level = RAW_SFILEINFO_DISPOSITION_INFORMATION;
+	sfinfo.disposition_info.in.delete_on_close = 1;
+	sfinfo.generic.in.file.handle = io.out.file.handle;
+	status = smb2_setinfo_file(tree, &sfinfo);
+	CHECK_STATUS(status, NT_STATUS_OK);
+
+	/* close directory */
+	status = smb2_util_close(tree, io.out.file.handle);
+	CHECK_STATUS(status, NT_STATUS_OK);
+	return true;
+}
+
+
 /*
  *  Extreme testing of Delete On Close and permissions
  */
@@ -529,6 +594,7 @@ struct torture_suite *torture_smb2_doc_i
 	torture_suite_add_1smb2_test(suite, "CREATE Existing", test_doc_create_exist);
 	torture_suite_add_1smb2_test(suite, "CREATE_IF", test_doc_create_if);
 	torture_suite_add_1smb2_test(suite, "CREATE_IF Existing", test_doc_create_if_exist);
+	torture_suite_add_1smb2_test(suite, "FIND_and_set_DOC", test_doc_find_and_set_doc);
 
 	suite->description = talloc_strdup(suite, "SMB2-Delete-on-Close-Perms tests");
 
diff -Npur samba-4.7.1/source4/torture/smb2/oplock.c samba-4.7.2/source4/torture/smb2/oplock.c
--- samba-4.7.1/source4/torture/smb2/oplock.c	2017-08-15 09:16:59.000000000 +0200
+++ samba-4.7.2/source4/torture/smb2/oplock.c	2017-11-15 08:42:13.000000000 +0100
@@ -36,6 +36,8 @@
 #include "torture/torture.h"
 #include "torture/smb2/proto.h"
 
+#include "lib/util/sys_rw.h"
+
 #define CHECK_RANGE(v, min, max) do { \
 	if ((v) < (min) || (v) > (max)) { \
 		torture_result(tctx, TORTURE_FAIL, "(%s): wrong value for %s " \
@@ -4674,6 +4676,355 @@ done:
 	return ret;
 }
 
+/**
+ * Recreate regression test from bug:
+ *
+ * https://bugzilla.samba.org/show_bug.cgi?id=13058
+ *
+ * 1. smbd-1 opens the file and sets the oplock
+ * 2. smbd-2 tries to open the file. open() fails(EAGAIN) and open is deferred.
+ * 3. smbd-1 sends oplock break request to the client.
+ * 4. smbd-1 closes the file.
+ * 5. smbd-1 opens the file and sets the oplock.
+ * 6. smbd-2 calls defer_open_done(), and should re-break the oplock.
+ **/
+
+static bool test_smb2_kernel_oplocks7(struct torture_context *tctx,
+				      struct smb2_tree *tree,
+				      struct smb2_tree *tree2)
+{
+	const char *fname = "test_kernel_oplock7.dat";
+	NTSTATUS status;
+	bool ret = true;
+	struct smb2_create create;
+	struct smb2_handle h1 = {{0}}, h2 = {{0}};
+	struct smb2_create create_2;
+        struct smb2_create io;
+	struct smb2_request *req;
+
+	smb2_util_unlink(tree, fname);
+	status = torture_smb2_testfile(tree, fname, &h1);
+	torture_assert_ntstatus_ok_goto(tctx, status, ret, done,
+					"Error creating testfile\n");
+	smb2_util_close(tree, h1);
+	ZERO_STRUCT(h1);
+
+	/* Close the open file on break. */
+	tree->session->transport->oplock.handler = torture_oplock_handler_close;
+	tree->session->transport->oplock.private_data = tree;
+	ZERO_STRUCT(break_info);
+
+	/* 1 - open file with oplock */
+	ZERO_STRUCT(create);
+	create.in.desired_access = SEC_RIGHTS_FILE_ALL;
+	create.in.file_attributes = FILE_ATTRIBUTE_NORMAL;
+	create.in.share_access = NTCREATEX_SHARE_ACCESS_MASK;
+	create.in.create_disposition = NTCREATEX_DISP_OPEN;
+	create.in.impersonation_level = SMB2_IMPERSONATION_ANONYMOUS;
+	create.in.fname = fname;
+	create.in.oplock_level = SMB2_OPLOCK_LEVEL_EXCLUSIVE;
+
+	status = smb2_create(tree, tctx, &create);
+	torture_assert_ntstatus_ok_goto(tctx, status, ret, done,
+			"Error opening the file\n");
+	CHECK_VAL(create.out.oplock_level, SMB2_OPLOCK_LEVEL_EXCLUSIVE);
+
+	/* 2 - open file to break oplock */
+	ZERO_STRUCT(create_2);
+	create_2.in.desired_access = SEC_RIGHTS_FILE_ALL;
+	create_2.in.file_attributes = FILE_ATTRIBUTE_NORMAL;
+	create_2.in.share_access = NTCREATEX_SHARE_ACCESS_MASK;
+	create_2.in.create_disposition = NTCREATEX_DISP_OPEN;
+	create_2.in.impersonation_level = SMB2_IMPERSONATION_ANONYMOUS;
+	create_2.in.fname = fname;
+	create_2.in.oplock_level = SMB2_OPLOCK_LEVEL_NONE;
+
+	/* Open on tree2 - should cause a break on tree */
+	req = smb2_create_send(tree2, &create_2);
+	torture_assert(tctx, req != NULL, "smb2_create_send");
+
+	/* The oplock break handler should close the file. */
+	/* Steps 3 & 4. */
+	torture_wait_for_oplock_break(tctx);
+
+	tree->session->transport->oplock.handler = torture_oplock_handler;
+
+	/*
+	 * 5 - re-open on tree. NB. There is a race here
+	 * depending on which smbd goes first. We either get
+	 * an oplock level of SMB2_OPLOCK_LEVEL_EXCLUSIVE if
+	 * the close and re-open on tree is processed first, or
+	 * SMB2_OPLOCK_LEVEL_NONE if the pending create on
+	 * tree2 is processed first.
+	 */
+	status = smb2_create(tree, tctx, &create);
+	torture_assert_ntstatus_ok_goto(tctx, status, ret, done,
+			"Error opening the file\n");
+
+	h1 = create.out.file.handle;
+	if (create.out.oplock_level != SMB2_OPLOCK_LEVEL_EXCLUSIVE &&
+	    create.out.oplock_level != SMB2_OPLOCK_LEVEL_NONE) {
+		torture_result(tctx,
+			TORTURE_FAIL,
+			"(%s): wrong value for oplock got 0x%x\n",
+			__location__,
+			(unsigned int)create.out.oplock_level);
+                ret = false;
+		goto done;
+
+	}
+
+	/* 6 - retrieve the second open. */
+	status = smb2_create_recv(req, tctx, &io);
+	torture_assert_ntstatus_ok_goto(tctx, status, ret, done,
+			"Error opening the file\n");
+	h2 = io.out.file.handle;
+	CHECK_VAL(io.out.oplock_level, SMB2_OPLOCK_LEVEL_NONE);
+
+done:
+	if (!smb2_util_handle_empty(h1)) {
+		smb2_util_close(tree, h1);
+	}
+	if (!smb2_util_handle_empty(h2)) {
+		smb2_util_close(tree2, h2);
+	}
+	smb2_util_unlink(tree, fname);
+	return ret;
+}
+
+#if HAVE_KERNEL_OPLOCKS_LINUX
+
+#ifndef F_SETLEASE
+#define F_SETLEASE      1024
+#endif
+
+#ifndef RT_SIGNAL_LEASE
+#define RT_SIGNAL_LEASE (SIGRTMIN+1)
+#endif
+
+#ifndef F_SETSIG
+#define F_SETSIG 10
+#endif
+
+static int got_break;
+
+/*
+ * Signal handler.
+ */
+
+static void got_rt_break(int sig)
+{
+	got_break = 1;
+}
+
+/*
+ * Child process function.
+ */
+
+static int do_child_process(int pipefd, const char *name)
+{
+	int ret = 0;
+	int fd = -1;
+	char c = 0;
+	struct sigaction act;
+
+	/* Set up a signal handler for RT_SIGNAL_LEASE. */
+	ZERO_STRUCT(act);
+	act.sa_handler = got_rt_break;
+	ret = sigaction(RT_SIGNAL_LEASE, &act, NULL);
+	if (ret == -1) {
+		return 1;
+	}
+	/* Open the passed in file and get a kernel oplock. */
+	fd = open(name, O_RDWR, 0666);
+	if (fd == -1) {
+		return 2;
+	}
+
+	ret = fcntl(fd, F_SETSIG, RT_SIGNAL_LEASE);
+	if (ret == -1) {
+		return 3;
+	}
+
+	ret = fcntl(fd, F_SETLEASE, F_WRLCK);
+	if (ret == -1) {
+		return 4;
+	}
+
+	/* Tell the parent we're ready. */
+	ret = sys_write(pipefd, &c, 1);
+	if (ret != 1) {
+		return 5;
+	}
+
+	/* Wait for RT_SIGNAL_LEASE. */
+	ret = pause();
+	if (ret != -1 || errno != EINTR) {
+		return 6;
+	}
+
+	if (got_break != 1) {
+		return 7;
+	}
+
+	/* Force the server to wait for 3 seconds. */
+	sleep(3);
+
+	/* Remove our lease. */
+	ret = fcntl(fd, F_SETLEASE, F_UNLCK);
+	if (ret == -1) {
+		return 8;
+	}
+
+	ret = close(fd);
+	if (ret == -1) {
+		return 9;
+	}
+
+	/* All is well. */
+	return 0;
+}
+
+static bool wait_for_child_oplock(struct torture_context *tctx,
+				const char *localdir,
+				const char *fname)
+{
+	int fds[2];
+	int ret;
+	pid_t pid;
+	char *name = talloc_asprintf(tctx,
+				"%s/%s",
+				localdir,
+				fname);
+
+	torture_assert(tctx, name != NULL, "talloc failed");
+
+	ret = pipe(fds);
+	torture_assert(tctx, ret != -1, "pipe failed");
+
+	pid = fork();
+	torture_assert(tctx, pid != (pid_t)-1, "fork failed");
+
+	if (pid != (pid_t)0) {
+		char c;
+		/* Parent. */
+		TALLOC_FREE(name);
+		ret = sys_read(fds[0], &c, 1);
+		torture_assert(tctx, ret == 1, "read failed");
+		return true;
+	}
+
+	/* Child process. */
+	ret = do_child_process(fds[1], name);
+	_exit(ret);
+	/* Notreached. */
+}
+#else
+static bool wait_for_child_oplock(struct torture_context *tctx,
+				const char *localdir,
+				const char *fname)
+{
+	return false;
+}
+#endif
+
+/*
+ * Deal with a non-smbd process holding a kernel oplock.
+ */
+
+static bool test_smb2_kernel_oplocks8(struct torture_context *tctx,
+				      struct smb2_tree *tree)
+{
+	const char *fname = "test_kernel_oplock8.dat";
+	const char *fname1 = "tmp_test_kernel_oplock8.dat";
+	NTSTATUS status;
+	bool ret = true;
+	struct smb2_create io;
+	struct smb2_request *req = NULL;
+	struct smb2_handle h1 = {{0}};
+	struct smb2_handle h2 = {{0}};
+	const char *localdir = torture_setting_string(tctx, "localdir", NULL);
+	time_t start;
+	time_t end;
+
+#ifndef HAVE_KERNEL_OPLOCKS_LINUX
+	torture_skip(tctx, "Need kernel oplocks for test");
+#endif
+
+	if (localdir == NULL) {
+		torture_skip(tctx, "Need localdir for test");
+	}
+
+	smb2_util_unlink(tree, fname);
+	smb2_util_unlink(tree, fname1);
+	status = torture_smb2_testfile(tree, fname, &h1);
+	torture_assert_ntstatus_ok_goto(tctx, status, ret, done,
+					"Error creating testfile\n");
+	smb2_util_close(tree, h1);
+	ZERO_STRUCT(h1);
+
+	/* Take the oplock locally in a sub-process. */
+	ret = wait_for_child_oplock(tctx, localdir, fname);
+	torture_assert_goto(tctx, ret = true, ret, done,
+		"Wait for child process failed.\n");
+
+	/*
+	 * Now try and open. This should block for 3 seconds.
+	 * while the child process is still alive.
+	 */
+
+	ZERO_STRUCT(io);
+	io.in.desired_access = SEC_FLAG_MAXIMUM_ALLOWED;
+	io.in.file_attributes   = FILE_ATTRIBUTE_NORMAL;
+	io.in.create_disposition = NTCREATEX_DISP_OPEN;
+	io.in.share_access =
+		NTCREATEX_SHARE_ACCESS_DELETE|
+		NTCREATEX_SHARE_ACCESS_READ|
+		NTCREATEX_SHARE_ACCESS_WRITE;
+	io.in.create_options = 0;
+	io.in.fname = fname;
+
+	req = smb2_create_send(tree, &io);
+	torture_assert(tctx, req != NULL, "smb2_create_send");
+
+	/* Ensure while the open is blocked the smbd is
+	   still serving other requests. */
+	io.in.fname = fname1;
+	io.in.create_disposition = NTCREATEX_DISP_CREATE;
+
+	/* Time the start -> end of the request. */
+	start = time(NULL);
+	status = smb2_create(tree, tctx, &io);
+	end = time(NULL);
+
+	/* Should succeed. */
+	torture_assert_ntstatus_ok_goto(tctx, status, ret, done,
+			"Error opening the second file\n");
+	h1 = io.out.file.handle;
+
+	/* in less than 2 seconds. Otherwise the server blocks. */
+	torture_assert(tctx, end - start < 2, "server was blocked !");
+
+	/* Pick up the return for the initial blocking open. */
+	status = smb2_create_recv(req, tctx, &io);
+
+	/* Which should also have succeeded. */
+	torture_assert_ntstatus_ok_goto(tctx, status, ret, done,
+			"Error opening the file\n");
+	h2 = io.out.file.handle;
+
+done:
+	if (!smb2_util_handle_empty(h1)) {
+		smb2_util_close(tree, h1);
+	}
+	if (!smb2_util_handle_empty(h2)) {
+		smb2_util_close(tree, h2);
+	}
+	smb2_util_unlink(tree, fname);
+	smb2_util_unlink(tree, fname1);
+	return ret;
+}
+
 struct torture_suite *torture_smb2_kernel_oplocks_init(TALLOC_CTX *ctx)
 {
 	struct torture_suite *suite =
@@ -4685,6 +5036,8 @@ struct torture_suite *torture_smb2_kerne
 	torture_suite_add_1smb2_test(suite, "kernel_oplocks4", test_smb2_kernel_oplocks4);
 	torture_suite_add_1smb2_test(suite, "kernel_oplocks5", test_smb2_kernel_oplocks5);
 	torture_suite_add_2smb2_test(suite, "kernel_oplocks6", test_smb2_kernel_oplocks6);
+	torture_suite_add_2smb2_test(suite, "kernel_oplocks7", test_smb2_kernel_oplocks7);
+	torture_suite_add_1smb2_test(suite, "kernel_oplocks8", test_smb2_kernel_oplocks8);
 
 	suite->description = talloc_strdup(suite, "SMB2-KERNEL-OPLOCK tests");
 
