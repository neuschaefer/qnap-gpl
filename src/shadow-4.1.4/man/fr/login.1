'\" t
.\"     Title: login
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.74.3 <http://docbook.sf.net/>
.\"      Date: 10/05/2009
.\"    Manual: Commandes utilisateur
.\"    Source: Commandes utilisateur
.\"  Language: French
.\"
.TH "LOGIN" "1" "10/05/2009" "Commandes utilisateur" "Commandes utilisateur"
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NOM"
login \- D\('emarrer une session sur le syst\(`eme
.SH "SYNOPSIS"
.HP \w'\fBlogin\fR\ 'u
\fBlogin\fR [\-p] [\-h\ \fIh\(^ote\fR] [\fInom_utilisateur\fR] [\fIENV=VAR\fR...]
.HP \w'\fBlogin\fR\ 'u
\fBlogin\fR [\-p] [\-h\ \fIh\(^ote\fR] \-f \fInom_utilisateur\fR
.HP \w'\fBlogin\fR\ 'u
\fBlogin\fR [\-p] \-r\ \fIh\(^ote\fR
.SH "DESCRIPTION"
.PP
The
\fBlogin\fR
program is used to establish a new session with the system\&. It is normally invoked automatically by responding to the
\fIlogin:\fR
prompt on the user\'s terminal\&.
\fBlogin\fR
may be special to the shell and may not be invoked as a sub\-process\&. When called from a shell,
\fBlogin\fR
should be executed as
\fBexec login\fR
which will cause the user to exit from the current shell (and thus will prevent the new logged in user to return to the session of the caller)\&. Attempting to execute
\fBlogin\fR
from any shell but the login shell will produce an error message\&.
.PP
Un mot de passe est ensuite demand\('e \(`a l\'utilisateur\&. L\'affichage du mot de passe est d\('esactiv\('e pour \('eviter de r\('ev\('eler le mot de passe\&. Seul un petit nombre d\'\('echecs est permis avant que
\fBlogin\fR
ne quitte et que la liaison ne soit interrompue\&.
.PP
Si une date de fin de validit\('e du mot de passe a \('et\('e d\('efinie pour ce compte, un nouveau mot de passe pourra vous \(^etre demand\('e\&. Votre ancien mot de passe et votre nouveau mot de passe vous seront alors demand\('es avant de pouvoir continuer\&. Veuillez lire la page de manuel
\fBpasswd\fR(1)
pour plus d\'informations\&.
.PP
Apr\(`es une connexion r\('eussie, vous serez inform\('e des messages du syst\(`eme et de la pr\('esence de courrier\&. Vous pouvez d\('esactiver l\'affichage du message du syst\(`eme (/etc/motd), en cr\('eant un fichier vide
\&.hushlogin
dans le r\('epertoire de votre compte\&. Le message concernant les courriers sera \(Fo\ \&\fIYou have new mail\&.\fR\ \&\(Fc, \(Fo\ \&\fIYou have mail\&.\fR\ \&\(Fc, ou \(Fo\ \&\fINo Mail\&.\fR\ \&\(Fc suivant l\'\('etat de votre bo\(^ite aux lettres\&.
.PP
Vos identifiants d\'utilisateur et de groupe seront d\('efinis en fonction des valeurs sp\('ecifi\('ees dans le fichier
/etc/passwd\&. Les valeurs des variables d\'environnement
\fI$HOME\fR,
\fI$SHELL\fR,
\fI$PATH\fR,
\fI$LOGNAME\fR, et
\fI$MAIL\fR
seront d\('efinies en fonction des champs appropri\('es de l\'entr\('ee qui vous correspond\&. Les valeurs d\'ulimit, d\'umask et de nice pourront \('egalement \(^etre affect\('ees en fonction des entr\('ees du champ GECOS\&.
.PP
Sur certains syst\(`emes, la variable d\'environnement
\fI$TERM\fR
sera initialis\('ee au type de terminal de votre tty, comme sp\('ecifi\('e dans
/etc/ttytype\&.
.PP
Un script d\'initialisation pour votre interpr\('eteur de commandes pourra \('egalement \(^etre ex\('ecut\('e\&. Veuillez vous r\('ef\('erer \(`a la section de manuel appropri\('ee pour plus d\'informations sur cette fonctionnalit\('e\&.
.PP
Une connexion \(`a un sous\-syst\(`eme est indiqu\('ee par la pr\('esence d\'un \(Fo\ \&*\ \&\(Fc comme premier caract\(`ere de l\'interpr\('eteur de commandes initial\&. Le r\('epertoire personnel sera utilis\('e comme racine d\'un nouveau syst\(`eme de fichiers dans lequel l\'utilisateur sera connect\('e\&.
.PP
Le programme
\fBlogin\fR
n\'est PAS responsable de la suppression d\'utilisateurs dans le fichier utmp\&. Les responsables du nettoyage de l\'appartenance des sessions de terminal sont
\fBgetty\fR(8)
et
\fBinit\fR(8)\&. Si vous utilisez
\fBlogin\fR
depuis un interpr\('eteur de commandes sans
\fBexec\fR, l\'utilisateur que vous utilisez continuera \(`a appara\(^itre comme \('etant connect\('e m\(^eme apr\(`es s\'\(^etre d\('econnect\('e de cette \(Fo\ \&sous\-session\ \&\(Fc\&.
.SH "OPTIONS"
.PP
\fB\-f\fR
.RS 4
Ne pas r\('ealiser d\'authentification\&. L\'utilisateur est pr\('e\-authentifi\('e\&.
.sp
Note: In that case,
\fIusername\fR
is mandatory\&.
.RE
.PP
\fB\-h\fR
.RS 4
Nom de l\'h\(^ote distant pour cette connexion\&.
.RE
.PP
\fB\-p\fR
.RS 4
Pr\('eserver l\'environnement\&.
.RE
.PP
\fB\-r\fR
.RS 4
Ex\('ecuter le protocole de connexion automatique (autologin) pour rlogin\&.
.RE
.PP
Les options
\fB\-r\fR,
\fB\-h\fR
et
\fB\-f\fR
ne peuvent \(^etre utilis\('ees que par root\&.
.SH "AVERTISSEMENTS"
.PP
Cette version de
\fBlogin\fR
comporte de nombreuses options de compilation\&. Seules certaines d\'entre elles peuvent avoir \('et\('e activ\('ees sur votre site\&.
.PP
L\'emplacement des fichiers peut varier suivant la configuration du syst\(`eme\&.
.PP
Le programme
\fBlogin\fR
n\'est PAS responsable de la suppression d\'utilisateurs dans le fichier utmp\&. Les responsables du nettoyage de l\'appartenance des sessions de terminal sont
\fBgetty\fR(8)
et
\fBinit\fR(8)\&. Si vous utilisez
\fBlogin\fR
depuis un interpr\('eteur de commandes sans
\fBexec\fR, l\'utilisateur que vous utilisez continuera \(`a appara\(^itre comme \('etant connect\('e m\(^eme apr\(`es s\'\(^etre d\('econnect\('e de cette \(Fo\ \&sous\-session\ \&\(Fc\&.
.PP
As with any program,
\fBlogin\fR\'s appearance can be faked\&. If non\-trusted users have physical access to a machine, an attacker could use this to obtain the password of the next person coming to sit in front of the machine\&. Under Linux, the SAK mechanism can be used by users to initiate a trusted path and prevent this kind of attack\&.
.SH "CONFIGURATION"
.PP
The following configuration variables in
/etc/login\&.defs
change the behavior of this tool:
.PP
\fBCONSOLE\fR (string)
.RS 4
S\'il est d\('efini, soit un chemin complet du fichier contenant les noms de p\('eriph\('eriques ou d\'une liste de noms du p\('eriph\('erique d\('elimit\('ee par ":"\&. Les connexions d\'un administrateur ne seront autoris\('ees que depuis ces p\('eriph\('eriques\&.
.sp
S\'il n\'est pas d\('efini, root pourra se connecter depuis n\'importe quel p\('eriph\('erique\&.
.RE
.PP
\fBCONSOLE_GROUPS\fR (string)
.RS 4
List of groups to add to the user\'s supplementary groups set when logging in on the console (as determined by the CONSOLE setting)\&. Default is none\&.

Use with caution \- it is possible for users to gain permanent access to these groups, even when not logged in on the console\&.
.RE
.PP
\fBDEFAULT_HOME\fR (boolean)
.RS 4
Indiquer si la connexion est permise si on ne peut pas acc\('eder au r\('epertoire personnel\&. Le r\('eglage par d\('efaut est \(Fo\ \&no\ \&\(Fc\&.
.sp
S\'il est r\('egl\('e sur
\fIyes\fR, l\'utilisateur va se connecter dans le r\('epertoire racine (/) s\'il n\'est pas possible d\'acc\('eder \(`a\ \&son r\('epertoire personnel\&.
.RE
.PP
\fBENV_HZ\fR (string)
.RS 4
S\'il est d\('efini, il sera utilis\('e pour d\('efinir la variable d\'environnement HZ lorsqu\'un utilisateur se connecte\&. La valeur doit \(^etre pr\('ec\('ed\('ee par
\fIHZ=\fR\&. Une valeur commune sur Linux est
\fIHZ=100\fR\&.
.RE
.PP
\fBENV_PATH\fR (string)
.RS 4
S\'il est d\('efini, il sera utilis\('ee pour d\('efinir la variable d\'environnement PATH quand un utilisateur ordinaire se connecte\&. La valeur peut \(^etre pr\('ec\('ed\('ee par
\fIPATH=\fR, ou une liste de chemins s\('epar\('es par des deux points (par exemple
\fI/bin:/usr/bin\fR)\&. La valeur par d\('efaut est
\fIPATH=/bin:/usr/bin\fR\&.
.RE
.PP
\fBENV_SUPATH\fR (string)
.RS 4
S\'il est d\('efini, il sera utilis\('ee pour d\('efinir la variable d\'environnement PATH quand le super\-utilisateur se connecte\&. La valeur peut \(^etre pr\('ec\('ed\('ee par
\fIPATH=\fR, ou une liste de chemins s\('epar\('es par deux points ( par exemple
\fI/sbin:/bin:/usr/sbin:/usr/bin\fR)\&. La valeur par d\('efaut est
\fIPATH=/bin:/usr/bin\fR\&.
.RE
.PP
\fBENV_TZ\fR (string)
.RS 4
S\'il est d\('efini, il sera utilis\('ee pour d\('efinir la variable d\'environnement TZ quand un utilisateur se connecte\&. La valeur peut \(^etre le nom d\'une zone horaire pr\('ec\('ed\('ee par
\fITZ=\fR
(par exemple
\fITZ=CST6CDT\fR), ou le chemin complet vers le fichier contenant la sp\('ecification de la zone horaire (par exemple
/etc/tzname)\&.
.sp
Si un chemin complet est sp\('ecifi\('e mais que le fichier n\'existe pas ou ne peut pas \(^etre lu, la valeur par d\('efaut utilis\('ee est
\fITZ=CST6CDT\fR\&.
.RE
.PP
\fBENVIRON_FILE\fR (string)
.RS 4
Si ce fichier existe et est lisible, l\'environnement de connexion sera lu \(`a\ \& partir de lui\&. Chaque ligne doit \(^etre sous la forme nom=valeur
.RE
.PP
\fBERASECHAR\fR (number)
.RS 4
Terminal ERASE character (\fI010\fR
= backspace,
\fI0177\fR
= DEL)\&.
.sp
La valeur peut \(^etre pr\('efix\('ee par "0" pour une valeur octale, ou "0x" pour une valeur hexad\('ecimale\&.
.RE
.PP
\fBFAIL_DELAY\fR (number)
.RS 4
Le d\('elai en secondes avant qu\'un nouvel essai soit permit apr\(`es un \('echec de connexion\&.
.RE
.PP
\fBFAILLOG_ENAB\fR (boolean)
.RS 4
Activer l\'enregistrement et l\'affichage des informations d\'\('echec de connexion de
/var/log/faillog
.RE
.PP
\fBFAKE_SHELL\fR (string)
.RS 4
S\'il est d\('efini,
\fBlogin\fR
ex\('ecutera cet interpr\('eteur de commandes au lieu de l\'interpr\('eteur de l\'utilisateur sp\('ecifi\('e dans
/etc/passwd\&.
.RE
.PP
\fBFTMP_FILE\fR (string)
.RS 4
S\'il est d\('efini, les \('echecs de connexion seront enregistr\('es dans ce fichier sous le format utmp
.RE
.PP
\fBHUSHLOGIN_FILE\fR (string)
.RS 4
S\'il est d\('efini, ce fichier peut d\('esactiver tous les affichages habituels durant la s\('equence de connexion\&. Si un nom de chemin complet est sp\('ecifi\('e, alors le mode taiseux sera activ\('e si le nom ou l\'interpr\('eteur de commandes de l\'utilisateur sont trouv\('es dans le fichier\&. Si ce n\'est pas un nom de chemin complet, alors le mode taiseux sera activ\('e si le fichier existe dans le r\('epertoire personnel de l\'utilisateur\&.
.RE
.PP
\fBISSUE_FILE\fR (string)
.RS 4
S\'il est d\('efini, ce fichier sera affich\('e avant chaque invite de connexion\&.
.RE
.PP
\fBKILLCHAR\fR (number)
.RS 4
Le caract\(`ere KILL final (\fI025\fR
= CTRL/U)\&.
.sp
La valeur peut \(^etre pr\('efix\('ee par "0" pour une valeur octale, ou "0x" pour une valeur hexad\('ecimale\&.
.RE
.PP
\fBLASTLOG_ENAB\fR (boolean)
.RS 4
Activer la journalisation et l\'affichage des informations de derni\(`ere connexion de /var/log/lastlog\&.
.RE
.PP
\fBLOGIN_RETRIES\fR (number)
.RS 4
Le nombre maximum de tentatives de connexion en cas de mauvais mot de passe\&.
.RE
.PP
\fBLOGIN_STRING\fR (string)
.RS 4
La cha\(^ine de caract\(`eres utilis\('ee pour l\'invite de mot de passe\&. La valeur par d\('efaut est d\'utiliser "Password: " (\(Fo\ \&mot de passe\ \&:\ \&\(Fc), ou une traduction de cette cha\(^ine\&. Si vous d\('efinissez cette variable, l\'invite ne sera pas traduit\&.
.sp
Si la cha\(^ine contient
\fI%s\fR, ces caract\(`eres seront remplac\('es par le nom de l\'utilisateur\&.
.RE
.PP
\fBLOGIN_TIMEOUT\fR (number)
.RS 4
Le temps maximum en secondes pour la connexion\&.
.RE
.PP
\fBLOG_OK_LOGINS\fR (boolean)
.RS 4
Activer la journalisation des connexions r\('eussies\&.
.RE
.PP
\fBLOG_UNKFAIL_ENAB\fR (boolean)
.RS 4
Activer l\'affichage des noms d\'utilisateurs inconnus quand les \('echecs de connexions sont enregistr\('es\&.
.sp
Remarque\ \&: la journalisation des noms d\'utilisateurs inconnus peut \(^etre un probl\(`eme de s\('ecurit\('e si un utilisateur entre son mot de passe au lieu de son nom d\'utilisateur\&.
.RE
.PP
\fBMAIL_CHECK_ENAB\fR (boolean)
.RS 4
Activer le contr\(^ole et l\'affichage du statut de la boite aux lettres durant la connexion\&.
.sp
Vous devriez le d\('esactiver si les fichiers de d\('emarrage de l\'interpr\('eteur de commandes v\('erifie d\('ej\(`a la pr\('esence de courriers ("mail \-e" ou \('equivalent)\&.
.RE
.PP
\fBMAIL_DIR\fR (string)
.RS 4
R\('epertoire d\'attente des courriels (\(Fo\ \&mail spool directory\ \&\(Fc)\&. Ce param\(`etre est n\('ecessaire pour manipuler les bo\(^ites \(`a lettres lorsque le compte d\'un utilisateur est modifi\('e ou supprim\('e\&. S\'il n\'est pas sp\('ecifi\('e, une valeur par d\('efaut d\('efinie \(`a la compilation est utilis\('ee\&.
.RE
.PP
\fBMAIL_FILE\fR (string)
.RS 4
D\('efinit l\'emplacement des bo\(^ites aux lettres des utilisateurs relativement \(`a leur r\('epertoire personnel\&.
.RE
.PP
Les param\(`etres
\fBMAIL_DIR\fR
et
\fBMAIL_FILE\fR
sont utilis\('ees par
\fBuseradd\fR,
\fBusermod\fR, et
\fBuserdel\fR
pour cr\('eer, d\('eplacer, ou supprimer les bo\(^ites aux lettres des utilisateurs\&.
.PP
If
\fBMAIL_CHECK_ENAB\fR
is set to
\fIyes\fR, they are also used to define the
\fBMAIL\fR
environment variable\&.
.PP
\fBMOTD_FILE\fR (string)
.RS 4
If defined, ":" delimited list of "message of the day" files to be displayed upon login\&.
.RE
.PP
\fBNOLOGINS_FILE\fR (string)
.RS 4
If defined, name of file whose presence will inhibit non\-root logins\&. The contents of this file should be a message indicating why logins are inhibited\&.
.RE
.PP
\fBPORTTIME_CHECKS_ENAB\fR (boolean)
.RS 4
Enable checking of time restrictions specified in /etc/porttime\&.
.RE
.PP
\fBQUOTAS_ENAB\fR (boolean)
.RS 4
Enable setting of ulimit, umask, and niceness from passwd gecos field\&.
.RE
.PP
\fBTTYGROUP\fR (string), \fBTTYPERM\fR (string)
.RS 4
The terminal permissions: the login tty will be owned by the
\fBTTYGROUP\fR
group, and the permissions will be set to
\fBTTYPERM\fR\&.
.sp
By default, the ownership of the terminal is set to the user\'s primary group and the permissions are set to
\fI0600\fR\&.
.sp

\fBTTYGROUP\fR
can be either the name of a group or a numeric group identifier\&.
.sp
If you have a
\fBwrite\fR
program which is "setgid" to a special group which owns the terminals, define TTYGROUP to the group number and TTYPERM to 0620\&. Otherwise leave TTYGROUP commented out and assign TTYPERM to either 622 or 600\&.
.RE
.PP
\fBTTYTYPE_FILE\fR (string)
.RS 4
If defined, file which maps tty line to TERM environment parameter\&. Each line of the file is in a format something like "vt100 tty01"\&.
.RE
.PP
\fBULIMIT\fR (number)
.RS 4
Default
\fBulimit\fR
value\&.
.RE
.PP
\fBUMASK\fR (number)
.RS 4
The file mode creation mask is initialized to this value\&. If not specified, the mask will be initialized to 022\&.
.sp

\fBuseradd\fR
and
\fBnewusers\fR
use this mask to set the mode of the home directory they create
.sp
It is also used by
\fBlogin\fR
to define users\' initial umask\&. Note that this mask can be overriden by the user\'s GECOS line (if
\fBQUOTAS_ENAB\fR
is set) or by the specification of a limit with the
\fIK\fR
identifier in
\fBlimits\fR(5)\&.
.RE
.PP
\fBUSERGROUPS_ENAB\fR (boolean)
.RS 4
Enable setting of the umask group bits to be the same as owner bits (examples: 022 \-> 002, 077 \-> 007) for non\-root users, if the uid is the same as gid, and username is the same as the primary group name\&.
.sp
If set to
\fIyes\fR,
\fBuserdel\fR
will remove the user\'s group if it contains no more members, and
\fBuseradd\fR
will create by default a group with the name of the user\&.
.RE
.SH "FICHIERS"
.PP
/var/run/utmp
.RS 4
Liste des sessions de connexion en cours\&.
.RE
.PP
/var/log/wtmp
.RS 4
Liste des sessions de connexion pr\('ec\('edentes\&.
.RE
.PP
/etc/passwd
.RS 4
Informations sur les comptes des utilisateurs\&.
.RE
.PP
/etc/shadow
.RS 4
Informations s\('ecuris\('ees sur les comptes utilisateurs\&.
.RE
.PP
/etc/motd
.RS 4
Fichier contenant le message du syst\(`eme\&.
.RE
.PP
/etc/nologin
.RS 4
Emp\(^echer les utilisateurs non\-root de se connecter\&.
.RE
.PP
/etc/ttytype
.RS 4
Liste des types de terminaux\&.
.RE
.PP
$HOME/\&.hushlogin
.RS 4
Supprimer l\'affichage des messages du syst\(`eme\&.
.RE
.SH "VOIR AUSSI"
.PP
\fBmail\fR(1),
\fBpasswd\fR(1),
\fBsh\fR(1),
\fBsu\fR(1),
\fBlogin.defs\fR(5),
\fBnologin\fR(5),
\fBpasswd\fR(5),
\fBsecuretty\fR(5),
\fBgetty\fR(8)\&.
